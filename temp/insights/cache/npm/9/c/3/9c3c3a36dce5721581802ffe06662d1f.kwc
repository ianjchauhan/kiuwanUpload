{"_id":"context","_rev":"54-011bbcd7430fc44f83cdc82b36d2c9e5","name":"context","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","dist-tags":{"latest":"3.0.3","next":"2.0.0-next-084233","dev":"3.1.0-dev-c4ba9b"},"versions":{"0.0.1":{"name":"context","version":"0.0.1","description":"Context-aware local storage","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git://github.com/gather/context.git"},"keywords":["cls","context","localstorage"],"author":{"name":"Tom Merrihew","email":"tom.merrihew@gmail.com"},"license":"MIT","bugs":{"url":"https://github.com/gather/context/issues"},"homepage":"https://github.com/gather/context","_id":"context@0.0.1","_shasum":"293ae7ac1f6c5951f78738299a0f741351e0694e","_from":".","_npmVersion":"1.4.9","_npmUser":{"name":"merrihew","email":"tom.merrihew@gmail.com"},"maintainers":[{"name":"merrihew","email":"tom.merrihew@gmail.com"}],"dist":{"shasum":"293ae7ac1f6c5951f78738299a0f741351e0694e","tarball":"https://registry.npmjs.org/context/-/context-0.0.1.tgz","integrity":"sha512-0xxV90AmowLl2uuMEFobLPgwBI6FQtrzg2kSmrz9NMne3n2zpCbyrAkRHUGF01Gy/cqBCC/90wJTdi8bJbbkhA==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDh8MwLIawXLHUO3JjyjxBPT2KDvm0fmfhsA8MeiCLzawIhALywlP15M+jvQTq1Ny19Km2sg7vJWgcDkrw20BUUTtmf"}]},"directories":{}},"0.1.0":{"version":"0.1.0","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"context","author":{"name":"ealush"},"module":"dist/context.esm.js","devDependencies":{"husky":"^4.2.5","tsdx":"^0.13.2","tslib":"^2.0.1","typescript":"^4.0.2"},"gitHead":"145b3095dbd7063682feab32def155b8d2a7a152","description":"Simple utility that creates a multi-layerd context singleton. It allows you to keep reference for shared variables, and access them later down in your function call even if not declared in the same scope.","_id":"context@0.1.0","_nodeVersion":"12.18.4","_npmVersion":"6.14.6","dist":{"integrity":"sha512-anktVA6cG919DOdFLwiDio2mgrdUvXMN/DlLBA1Xv6rtLwZi8eXcUC7QOpB0KcHSUwOnyH9tmhsyXI+rJVzqLg==","shasum":"07ca05383636b8c35468b26a83da51bb5e4c053f","tarball":"https://registry.npmjs.org/context/-/context-0.1.0.tgz","fileCount":12,"unpackedSize":36617,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfa6QOCRA9TVsSAnZWagAAxVQP/0UgAuL+2aSgiZAqv6lM\n2dkodh+MFHlJK+PvFaDChDkcp4WY95ihJI/FxcWzGm9/Vbs7/E3L1Tq0clUj\nF7IBGhDX+CPrIRShr5xk3wJ6QOS2lIqXNijXHQVbWFqWcxa+kIZeNkLurocF\nqk06wGNHqp0NExEmlGkUZk4SSwTLH48m/4yyZpuaXxrdZIBkxw6UDvdsIBZz\ny4qmHjtyh7ws17jpm23RsZ/waICeNTTzg4aXKM+NDp2HpLCabW2kGYWOdOVX\nbj8DVdxq9K25pHKPbP8d5gi6CSO6xgdrLLiJBo1cMGI41xVuBNevgGp3SwdW\nBQd26GkriGCc71T0pMUeQ2kUVRAaHZHsRsI/eSoBVyDJwiyRk18Jz5+MpSQL\nYpirfJ1tzwCQK1Gsd3kiWVeWi+/0TEYyzps8+GxFpvNECPMEyb8KekpCHqC7\nCwC10ubdiMIS5abiMuZ2ffhJWKvQgzS3nXNEQoAs840johsL4sS0NUuh6hVR\nGzkqWdHUbnUyms4aph2IjK6gm6ZP7g0JwnC1kSbo6SNkIJ+C2m+fDYCgapk0\nRrOJQkc3UlbTfZuN3l7ojcTdRWeNqcagoIpw0c8vlP6v7s3lIsDZJXhmt3WZ\n7Qg/kpMcZfbXehlwwoDb7A1khe/Ilo9RZhs9hU51KjNVVhzVUWvX5Dyotpjm\nHGRG\r\n=el1Y\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCMWsw/fyLMw4EuX0h9sQfzo2IjmCYgtt2P8Eqa3cPXbAIgGA6ea/GMRSxn8yyiry7JpLkc1NoExJuv84hPz5dAHcU="}]},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_0.1.0_1600889869795_0.4013751528925422"},"_hasShrinkwrap":false},"1.0.0":{"version":"1.0.0","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"context","author":{"name":"ealush"},"module":"dist/context.esm.js","devDependencies":{"husky":"^4.2.5","tsdx":"^0.13.2","tslib":"^2.0.1","typescript":"^4.0.2"},"repository":{"type":"git","url":"git+https://github.com/ealush/context.git"},"gitHead":"84a4c9fa9d35168dd95b9b1c7c21b030464c1875","description":"Simple utility that creates a multi-layerd context singleton. It allows you to keep reference for shared variables, and access them later down in your function call even if not declared in the same scope.","bugs":{"url":"https://github.com/ealush/context/issues"},"homepage":"https://github.com/ealush/context#readme","_id":"context@1.0.0","_nodeVersion":"12.18.4","_npmVersion":"6.14.6","dist":{"integrity":"sha512-XI/3AmPc9P+9o6bGUuQKQbIPx7XVnFKE5Tufl8NPWN1LuWhx6b95+Evs0vDIJRW2iNQPSIlUj6LuXrf8EZ232g==","shasum":"49245e26d853e6dac8dfde99faba818b3902a045","tarball":"https://registry.npmjs.org/context/-/context-1.0.0.tgz","fileCount":12,"unpackedSize":36714,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfdQ5pCRA9TVsSAnZWagAAFOcQAIzXfdrTTMg75hhBi2aR\n7OuOB3RRWat325B68w0UknUlCXXQsb+OcqayHE3crfG9kRKKavRE6+TF8WGA\nuPAtylJnJP9cf/jVXDXk5oxrTYu5Y+2dFORpzmiw8fLZNuFsreWdfmRpE/W6\noK4YYWsFmQzNvaS81MwMgeWhoWXf0c+KriN7kQmmMYHB49FanXTQvWM4qsmT\nsOB2kT+/oVUH2IUWe/BVGtSkc++6t1BI5z5rvUIhr+2X+K0YFIHCXmwcBR8M\nzB9U/kOf4rF6ibvlxwFGROAPMWnMQfwJT54lhaeejfPfniPGdsiuq4XkEanQ\nMZG+KZgRyxrYNcQhJ/az+v7hWOo0NNTXFN9qYFLe10ElFBu5/OS8m3fePsg7\nsTU4fRZRz5KD8F9XArrTD+fFmkBkXDt1V6B6t3iCGR3+wx7decoIjVjT/knZ\nrnZ+J3ZqE1BjSdcQL3Pfbb/FQ30p+wHPNe2REiLGqC6JR2lezH+MFTBSzUG4\nUDs0HOeDQLdI04eDGDmyYN2RMihOA8YvZPp7knfMgisY6udz5v5Uh05GPKoC\naZoiYvFECyczGFBntcef8JFb1bVWUFL1tDE7NLLjM1ZidJ8EBCiSi0eipJCE\n/szlA7xt6sH0RjUHEw9GrYj9QdnEEIQig7DhmbbT8X1qqjuV7hhuYhcXJVQL\nrtXV\r\n=sgWq\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIGRx/TsGgfJlzo/13n8kogpsQHBB3QgGX96e12Mhsc/6AiEAw8Uom39wffjfMVpuz4d8goTAauK2qz+JV+aar64xBq8="}]},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_1.0.0_1601506920321_0.9955277965784219"},"_hasShrinkwrap":false},"1.1.0":{"version":"1.1.0","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"context","author":{"name":"ealush"},"module":"dist/context.esm.js","devDependencies":{"husky":"^4.2.5","tsdx":"^0.13.2","tslib":"^2.0.1","typescript":"^4.0.2"},"repository":{"type":"git","url":"git+https://github.com/ealush/context.git"},"gitHead":"be137cb5541083080e44a9e2fbb6e8cb3a5f7f5f","description":"Simple utility that creates a multi-layerd context singleton. It allows you to keep reference for shared variables, and access them later down in your function call even if not declared in the same scope.","bugs":{"url":"https://github.com/ealush/context/issues"},"homepage":"https://github.com/ealush/context#readme","_id":"context@1.1.0","_nodeVersion":"12.18.4","_npmVersion":"6.14.6","dist":{"integrity":"sha512-nfNLy6MbBleZuK0vDwxUnYyu1McpjaZIHo7a3+yNoLWEJtnUjnB4z5xYZhg3XmVcCflh5U2FeaHbHUfCCLSeHA==","shasum":"1675cfe546b4d8f9925a2c4896a7ee41e917f015","tarball":"https://registry.npmjs.org/context/-/context-1.1.0.tgz","fileCount":12,"unpackedSize":40420,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfg0rTCRA9TVsSAnZWagAAS4UP/0mHlOrt/sHuFis5KhYI\naHOiTUy3wHpmvl+9mm7Q4z0y8Xhn0Y44I58eIFgQERMgqD1KrEnzdqgd+yIF\n1JWlLdTYZvEBuknsxefQ+iYRXXWNZj0sUlJhBd67Y0cj2b5shmr3fWxv8xSi\n0lDQUy7yxA5ZizIsUEfCJ6PviuFguY0z/gGiJNXlb1cqRpZd7IL0PHSMBh1p\nCwt7KynRHt50Z8vM2QeX7EAow6jfLxZNfC56tNkwTKat6T9Ws4Ko3XOSqtxK\nzn40oFiCbAOC406pcD8EF/y1hZr9XBFxtAWS4+l2FBCoo+YsKlQ5mWrGHru3\nq2bnmtYmjDf00Ubi1hVB5VHvUmzFVts/eKNGmIzE7RMJX07rDeaMNMr9rf6y\nL4iiijlBBpwgabuqGQVot1i4QhxNZMUufBPVZ0xv+6GFeR1EQ8hj4aZ0HLRf\nFyk3wfRx/BXGQYPPvHsn+rNMQcnkeqIWQBWr9DpCqRq+djmGMUF+ds37WJW2\nwDDkKCSxIlW+7NsDLRh9tCLt3J9iI685x5Ugbk/x/Hi7R+jB0ay34U26wYOi\n20zVGgHT4u6kKZlZNdBzW6/NpoKD2sAG9a1RTm+/u1p7PehNYOaoqY0vtLxq\nWrrvI48NfoZqHSNMEAR424G8uV3B880cR2gLyIk6EIww5p7sbuXj9j37xQy0\nAJPa\r\n=fCj6\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDqIrJlONH4q5gr9d2mK/kn0QG3C5HXalUdUJzVdNtklwIhANbNlbIn7SgzfvR7E+Jawqxo40yVIPNFyYdsuFROKakW"}]},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_1.1.0_1602439891317_0.70338753268652"},"_hasShrinkwrap":false},"1.1.1":{"version":"1.1.1","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"context","author":{"name":"ealush"},"module":"dist/context.esm.js","devDependencies":{"husky":"^4.2.5","tsdx":"^0.13.2","tslib":"^2.0.1","typescript":"^4.0.2"},"repository":{"type":"git","url":"git+https://github.com/ealush/context.git"},"gitHead":"b6aae3d58c7322510519652e6de07966f70718a8","description":"Simple utility that creates a multi-layered context singleton. It allows you to keep reference for shared variables, and access them later down in your function call even if not declared in the same scope.","bugs":{"url":"https://github.com/ealush/context/issues"},"homepage":"https://github.com/ealush/context#readme","_id":"context@1.1.1","_nodeVersion":"12.21.0","_npmVersion":"6.14.11","dist":{"integrity":"sha512-RGQ7qFKBkD7Ufz08ui7VS6Cp2LMQpEj1l1EZu6NpvFvXUIer55KPJpRHCZCkN6EaBrf2sZNEk8mthhKgQ/ywpA==","shasum":"b0bc004a4f7555e375ce80669b21d3d83f135f89","tarball":"https://registry.npmjs.org/context/-/context-1.1.1.tgz","fileCount":12,"unpackedSize":48105,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgaLv7CRA9TVsSAnZWagAAljEP/A20DkBtL8uD53yFBNWR\nx7qJedtVxKzzvfHqLF+bsji0j5lwRZE7fCYxW726wIFtJQNBEa6ITTLAD4sF\n/bCyKNIeCh0sYlo3SlVn+EoPyMYJPiz9ArbjmblE1rAS+Y58rgCfMX7d/XWi\n3ukXdComx/52vNcjcfE+p14xvUkesWMT2KIdGMF/Am0993QK+4MKobPe9QrQ\nB6uRBKI9873SfpCtg3CTTMzwJheIRrY1ixN+M3ndOmn1QlZB4O8EKxdpGHCC\nlcyQRg8rK/469biq+Lt4bhGouPqkKb58tkzEqS1qrv4f1uY3i7VLymNmL479\ngR3e1l6nArRLFKQTlDmCeBk6L2lKUZJM1dgT3XCwRB5Elb3pkYN9md4xXwza\nIFiXAySCpvXBYlxmXtEBOpbeLx+a0AZxYIApK20a2OcCpAVi3BKKKwkrE1WZ\nNGQB0mCTMrPlU8IqDUHvIn4Mg5EWMsItNYe2ZaPglm4PAfxYi9x6dwyZngQS\nrIirJzQUN3KqN/xhuNXxfnY6q+EuQSpPOTWTXpGxvki0tJairFd7hkuom4WM\nFtgz7N50fZB43b5H5OtTvk1RxQMEgw+wV2z4LGxfotLRXTcdo1c1VqC93uDF\nx2dq4OaP6tsZtQ8zgCkTY1RPR1PRxDSBzuCv5toTkn1U1DacQBGlQw49DddE\nVt6g\r\n=u03z\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIHGmg08s/8b1xbaGFM4HCOifsddexY4ctvh5Rz8vkHx5AiBLvUZgyGSlbaXQJQ7kVEo7dDyDAj7YFvWmpvNUl8uunw=="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_1.1.1_1617476603001_0.12640341252048182"},"_hasShrinkwrap":false},"1.1.2":{"version":"1.1.2","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"context","author":{"name":"ealush"},"module":"dist/context.esm.js","devDependencies":{"husky":"^4.2.5","tsdx":"^0.13.2","tslib":"^2.0.1","typescript":"^4.0.2"},"repository":{"type":"git","url":"git+https://github.com/ealush/context.git"},"gitHead":"f9bdfffff7bf31f90025e500f8fe24227d0d2de4","description":"Simple utility that creates a multi-layered context singleton. It allows you to keep reference for shared variables, and access them later down in your function call even if not declared in the same scope.","bugs":{"url":"https://github.com/ealush/context/issues"},"homepage":"https://github.com/ealush/context#readme","_id":"context@1.1.2","_nodeVersion":"12.22.0","_npmVersion":"6.14.11","dist":{"integrity":"sha512-rOMSiTo05W2v1RVffJvN6icMA+8lLG4VNYEBsIDRj0HJUeDP3p/XG3p3aKazVCbFTJ/IqcjyExaoTTUpP1ZpYw==","shasum":"644db6990c2d87d64f478d08ed49b3b22b95b573","tarball":"https://registry.npmjs.org/context/-/context-1.1.2.tgz","fileCount":12,"unpackedSize":24728,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgbqzgCRA9TVsSAnZWagAAXEYQAJLLcTcwz5v8JZEq6itz\nMNxCObogDB5UvQN2bKNUW4bFvj7Jm4pjK027v9AlBPX/blcXiXMyy8XUxZ24\nzMwhE3XjuptPrFoQ9sfmmh7JmPCKEdxd4+G5Lfao2LhniUzJh03j72bqVc/h\nEDiIydeqZyx0FWX6dAps2caSM7SFmLwrAp05zdTEzTXgSlHrW/JjBwLn9EbP\n69yRpVdtlR4PrF2wJLtJrEIIJoQdgjci0PAPrH0xWR6zquvPvMbbcxUtIDYq\nyA/ju+4cujGpWOaVkbe3ZKovhIVsH4CVInmZPnp33Yxbrvo6/Tf4CnGqfOfd\nExQkSGAQwI0qzlRI7sgToH0IOeE2WQLyk4nj4W2XSalaT2R344wEygfoCzsQ\nDlj4FQu9oCPTSSmzRtb6J/6qq0TGfXFzUcpcNDRawUzmV0A5BurpQSYKUsT6\nlhfDzgkVSfvxSuIL5iLL1ZmUjJ+VAIquG2zby9r79efrm15HL2Esg6h/SfuD\n4zELCHYrtSxdcHCVLT20d0BdgGF08EQodMPzJugbo/HvGmOP51nseypCfdr8\nMmOqcwYXp1snkg6UAM+j4h9dGdKDd4lKcOjHzyq4uZjzheCF6Zu2Y2KPt5aH\noTVMNWNHdJnAzqYOwgA/roq5qGKwB0JBr3ypUgTiKPoPpcGguZsRFcYk4+9b\nGxCn\r\n=srg/\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIEcODoYocMbvq40x9YQ+adKltHyusS/CDtP8OBYqdlYrAiBzroI0rhrbQaZp2NRs1ndORorjFFIhFwciFfmgmIJ9Yw=="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_1.1.2_1617865951546_0.37930052498987354"},"_hasShrinkwrap":false},"1.1.3":{"version":"1.1.3","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"context","author":{"name":"ealush"},"module":"dist/context.esm.js","devDependencies":{"husky":"^4.2.5","tsdx":"^0.13.2","tslib":"^2.0.1","typescript":"^4.0.2"},"repository":{"type":"git","url":"git+https://github.com/ealush/context.git"},"gitHead":"6d2007aa8283b806c9287e86a676de6f4d8b85e9","description":"Simple utility that creates a multi-layered context singleton. It allows you to keep reference for shared variables, and access them later down in your function call even if not declared in the same scope.","bugs":{"url":"https://github.com/ealush/context/issues"},"homepage":"https://github.com/ealush/context#readme","_id":"context@1.1.3","_nodeVersion":"12.22.0","_npmVersion":"6.14.11","dist":{"integrity":"sha512-eHF34RlIQuloYviKLfTIcdA8p5teA5zg8fFlhCFK5kBvXhDE/HKOc4ezd/XYoz8/kMqWw59orOfetAa0flG6nA==","shasum":"e2d1e358b1a40bdc42c7f8bacb66abb050cf00b6","tarball":"https://registry.npmjs.org/context/-/context-1.1.3.tgz","fileCount":12,"unpackedSize":24904,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgbtFUCRA9TVsSAnZWagAAHbwP/iuXhCOpqW8T4TCd6bfx\nnNmmWVn/UhR3ghmRVCqA1EVNfAwxso8jSFQ7UVkK6c6VSY2pWPcAKJFbjodT\nDlR8lMae1+VCvqoT7BnBAQPbtzJ/wpyXazWIXM6q15l1PDY5QlAtWfvdcQ8V\nVZ4NG679Sw4xfp4xDRumzWoDV+CjZoLgyBqpFm6/W2uDxIpSwwxSjPNHFrQz\nT47UVPq8wTGnQRfBTfuimWlsPDUW6n1gU4JuB/Xxxj7KtL40u4ZRRg9v7FoO\nRfeK6+QOeCdlXJq94rHgT249qMdB+qZQN1249hY6/ZhZIwq32Y6m0jzSBCQA\nKNcCpA7x2Mfh9nTpXUGQMS7MrGU0nRivdqt7+wb0q1pNZ7DT0gIXoqyAm7Qn\nfJcxzaiRNHrUjxaQp48D6Jt+KX40dI6ZyoJ0N6Tw+1uEv3RS+40b9UnKXb/h\ngwHvSrA8bwDfqRxmJTCZzTnleaHdXkB0Ln3SImu1TLU1K2fELIefPy2tMtSp\ndJiewg0t66Yv8LgrrKxjRm8rBAMeMHPEBpMA6nKmVM91c5RQGC1T5/e1vM+x\nQZr7yy+VrxYCmeYHYxjp0AUyJSWEoeQeT2vrayGtILuRF4d/PN5JmuPb2Wfm\nKDo81u/zlbd01ffpErF61cewJq1YvAbeeX5K7gFFKKanP8Dz5Mm6OYlH4HQ8\n31p8\r\n=gr8E\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIGNkd/rgnwJYYHCUWoZZf2knXQroGMcARecNPeKW2Y0/AiEAvhLdkSXDVzfGt6heaKJ4SSWRXfs9KKRi9OuPNxzEeBo="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_1.1.3_1617875283876_0.09249027694727685"},"_hasShrinkwrap":false},"1.1.4":{"version":"1.1.4","license":"MIT","main":"dist/index.js","typings":"dist/index.d.ts","engines":{"node":">=10"},"scripts":{"start":"tsdx watch","build":"tsdx build","test":"tsdx test","lint":"tsdx lint","prepare":"tsdx build"},"peerDependencies":{},"husky":{"hooks":{"pre-commit":"tsdx lint"}},"prettier":{"printWidth":80,"semi":true,"singleQuote":true,"trailingComma":"es5"},"name":"context","author":{"name":"ealush"},"module":"dist/context.esm.js","devDependencies":{"husky":"^4.2.5","tsdx":"^0.13.2","tslib":"^2.0.1","typescript":"^4.0.2"},"repository":{"type":"git","url":"git+https://github.com/ealush/context.git"},"gitHead":"532cb3c8a239636e546894941ff8262a274ab533","description":"Simple utility that creates a multi-layered context singleton. It allows you to keep reference for shared variables, and access them later down in your function call even if not declared in the same scope.","bugs":{"url":"https://github.com/ealush/context/issues"},"homepage":"https://github.com/ealush/context#readme","_id":"context@1.1.4","_nodeVersion":"12.22.1","_npmVersion":"6.14.12","dist":{"integrity":"sha512-LBiS1IKHyJWhpzu0on/0L4W0DbnDFtWNkWU7Qo37CJ4rSi/9IqjF3Uw+i94x06H+r32Bs3qq46KkXLI9WEWSIg==","shasum":"5ff24e5f13b2a64114ad6abfb9d2dc9ba9faf630","tarball":"https://registry.npmjs.org/context/-/context-1.1.4.tgz","fileCount":12,"unpackedSize":24846,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgvd4uCRA9TVsSAnZWagAA/poP/2h2hlNuN/OY0aZKic6N\nmbvtzczeGo8SYeYWbVYLtnpmuEoiX7wzWQX9BIJOXSbalYvxC48JKxV9UK/g\nR+G46KVVhGKR5vzg/NFpDaMHBZieVqO2e2o2/bFy8SCfd/OjXuIxMvcDdxoM\nycWRahCy1zVNHbu+f+NMGmmV+hKa9/SD9fET5CvEBHOGqZQOPvO/HcWMw7lQ\nCCmAD2O6S8cw91H4U5aj5Mk6K83/vdschP620/jSjaPjcJ/HxEPybcJK3jDj\nus9f9Qfr7w42X5vhX92+NtufrrDeWoe813GVCY4GywAHxzwv59jArV+//6YY\nSKEc6Wv8TJcVEjj1qP7fZLblETJr7puvi1aparCFDI2Cu8eKBqZAEDEjCcf/\nsHAV7lI9a0IYJM8IrrjvF9jJMJg5xKwQrVKO0D6i4ql/Uv/kS7r2QU2zMyv/\n6ETdr/CySLndYp1Rxh45MTOmykmRFz0V4ogOYOJ/kWIlig1jPAW1r2177bSL\n05JQh+FsC0kjfrEBAPzUmTfbx4dEsQNYuGGYHnY977Ymb/0qw3IrcseoZM6k\n8L4VdeGQ00QONJfhp9RfkI+hwn/OQttRaLWbmQlADZWKAwnd8iDw52/DErm5\n0hLqMq3zHpB5drQlaD+aEley59DPplDI/aOHV5uM40EKZaVeJtWlF4ZB1raD\nT5P+\r\n=cYes\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIEbeiuWEF9EclDHB8KgNFQUP3YcHQMXzCdJ3w2n8k01lAiBp73thAodJnyMDUBFqfbJUW97KRlMVUk15YrD2Wk3GgQ=="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_1.1.4_1623055918530_0.11335858601487825"},"_hasShrinkwrap":false},"2.0.0-next-03ba92":{"version":"2.0.0-next-03ba92","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.js","node":"./dist/cjs/context.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\nThis is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\nThis is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-03ba92","dist":{"shasum":"e03d45386bc0d6be1dbe18afabe9c76e7d3c9b6f","integrity":"sha512-TMpqa0SXpCWZcfp3eE2P4j5kDPncWIEnRpWoZgl3tzkXpDF6C26q6x9RmCpXuUvRzsD4N20Ax11KL6rJybYh9A==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-03ba92.tgz","fileCount":20,"unpackedSize":21804,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhmXphCRA9TVsSAnZWagAAWoEP/10vyFw9kgcxs9jdzCaT\nnbvn67mp8qsnQmUlCMtyiHK34CJrtSt0zXcn0P54PBKKRo6KnCNEIL6hNBk/\n5IykNPWo+MOu7qypm7faXWRwPTowozp6e9ZKR5BVg+wyXudptE2criDOK86Q\nzlilMFutfWEHBrcaNRGoBqPOm6rdxbk2s9m+hf0HsIA2Dh2+17mywHeU9EJL\nGOzM4AbQSGcVpH1d0S7G+ETmlG3s+2Oj/b38o9ILFoeuRCTv4L6JH153ibid\nYUr1MoKfqFndJFw68ZPBtAYN1Qu5wEBAjHdqIQsgyZL07CTbrC+6LHb91e/x\nuK1GGo2hnGmv8OVbpk4kkatMhXM6xoxDDuIky+TtXBDdyxz+Ga8uiAdTLVPA\nA+zhZKTEa21opdfcEUzpFEjSw3OFg6avBViz2M8YdNxRzgkxBFLM1XJZFD90\n6hpELXorQzzEYeGdKFXtVKVegWow7+mVcwYyrLUA8MV6w7OP5dwmmJMIKmaw\nPzgXD2g3k16zxR8FcG5wjdeuNZOZhzHfuFA5FRYfqcYPzF1ik62iIiuNa3/z\ns1WvzyBpBK/tpoHA0V2GJNZZrDUfYM8Vy1556HEguAg6PHFOXrshfuTsCpis\nUZgx6qJuexxb5Kwg8zcEEEBbzOtDdODsiM6mTuZCeNT0R2ky7ZyQK1cPp7ID\nv7lc\r\n=1BJV\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDZQoPkcflLhbIa5qGlF2K9Q59yktMif+USW8uYCg0oZgIgSHYu/cYri9fY20AaI36nxXEfq96KnO6rNKFZaLEBCGM="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-03ba92_1637448289626_0.4997267620862873"},"_hasShrinkwrap":false},"2.0.0-next-0370fc":{"version":"2.0.0-next-0370fc","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.js","node":"./dist/cjs/context.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\nThis is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\nThis is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-0370fc","dist":{"shasum":"af76d850a4c44dca22879fe3afec55077b37412c","integrity":"sha512-8pkH9CDIf4bfcb6MY/Psg7kMMSVZztsq8gseWjJh7St5iuBNv2pa4+KvTXueKAIcL0Nbn6iv7DkheOoQwUXA5w==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-0370fc.tgz","fileCount":21,"unpackedSize":21984,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhmrXWCRA9TVsSAnZWagAA07oQAIqabj6Sy9v2ujYelfdW\nkRbRz9P3qf6v35p2qDVCYrnPGiDrcQuzoSJ4UDdruA3eW+Xc0rsgzKxYgUfu\ntJoQ5wirwvCwdAJMe1yAogT1NQdINeWbi6+lxSsshIMLJXhaEV3qeCBNFxY+\nWCyjATG2du3CzHZLWPGIVLtsFRzdmDLoSdKjxrXvOTwPEgclr6ZThlQ5sp10\nDgXBqVV8o3aPOdc7wBAUbRCTFHabrrJEDU1Sxh748Hq3OW9mr2xCzn/ysUzZ\nRzqj/YC7oy7s+aQt7FeoiQPFMAaAOPOdxxvGS9G/YbTDVyMVHQxxI2aZkQt0\ncSFaZBnD26IQtrOS60Mv/g+pbe/vBxzgPz18zDtYOGOYcbKYpAB7GtjS+Gih\n0QOxUgQjm0wIXWCdMAZ6oT+QuCmYTv9BGniOw7NFzCkIJONQU/NXoAxoUVRF\n/dHIxHr3qZ/FT3OKsoeXpWwg/bWbwRA/Y1er51SrK2vX/qVkyS6Xy5Qm1Zqx\n4OmCFidPmsO7SjANv9MVek5AXcTwoKZCgC+rPFiaop56ucn9R01y+X+3ES+q\nesk/rGIWsaAbIdcjGXbKkuXo0JNTRY37sTw0b0GXBY+O53e+PK9fvGiVvGhZ\nxN798aFwFxHuAXoNQHFfPgLbfEZJ7VmPpVHx+R9SYeV78Mqlc3ttq3QqIZB2\nfGJq\r\n=FYMa\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCAGaYCse7dwrgLt1aoGkV3X1upqiI0yWU1pcD4mC/hvAIgNxxmKcnlHyLI9ZaEPZM70e0yctPVXrWG7bi0DTRITOY="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-0370fc_1637529045888_0.5268970752978941"},"_hasShrinkwrap":false},"2.0.0-next-9f9b97":{"version":"2.0.0-next-9f9b97","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\nThis is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\nThis is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-9f9b97","dist":{"shasum":"30973910f7ce1fee7ec7586c73f4868c1b57a808","integrity":"sha512-3MK1DZERXKcy9k/mfsJ9PzWJZsrMwdghQYMYOhQs7us+8K+S7jS+Yy2sDUH/VkcvHzWy+zb5azTJ5FIoa3mE3w==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-9f9b97.tgz","fileCount":21,"unpackedSize":22073,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhntBICRA9TVsSAnZWagAAk5sP/iecZYobBq5RpNM7PUOl\n7WRXmSwMZPBVPqeOhPG05KWjiFE3nAIRcc3OvDhD/aG7ZTy0RhBnLPDp7QUT\nZiTdFz5cBoOg0itoGPFZs444/+jr/UPzm2ev2DZGOWOEJzX77pUO9Ws6WTbL\n4+kjGqjmWN6KUIAFwooV2Pfx6chQecZvE8uLTI2c3ywQaBQNKWIMJGyWGJ6n\npgIw5wrIv9SieWFO2DDLp8SYTmOACR6XQV7ITBETsacaNVFDvbDrDKw+3oXs\nBQ13PbIyBUSu1kAix5zMKOENHs/2TmQnqO25jFkbCGS8eWL0Epo4WlD42zOZ\nnwZ8AyLTRljw8+nAYHnpDOcVHixOuT49wAgMX/kst7nSEn3HSHJeGIbe7Un7\nmMCnNWm8BMgg3BdSAyo+S0F1KxzCwQDxh3v5kJCiOy2OS04oywU6K8ExtqE2\ne58FlifaRZxyJ2EMmgC6Sk2illXSCneKl6MRUILauly1FiEeWqL5McwP/G8/\n16Y307EEPkQl9wVjOuoYf+tciHirf+3JF6PwI3E+0Z6ysSNVfgkkeuM6ZhX3\nrm1et7ziPod2QxfUvzjTAwtlZ8FzllAXX6QQa1CkHPy/HBxXULmgGor1Q5la\n4aFryYkwkLlncRvcsBO/yg6rT44GsEGjZ8DZy9ZQ91YhF8f1zzabOlNhK9d4\nZPrA\r\n=hZ9z\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIGKgl8DPv+APGctZ0vZwEe1U8lgD9SQPC3pCwEXZyrRrAiEA+gusww1F/nqJMX7Auql5+E6dR04oYT1LBNODing52XA="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-9f9b97_1637797960276_0.5769818940720686"},"_hasShrinkwrap":false},"2.0.0-next-3118f5":{"version":"2.0.0-next-3118f5","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-3118f5","dist":{"shasum":"54302d7e712c5b92c6243c51aded67c25f64326a","integrity":"sha512-Ou12673dYfhIXJ+55lhhX3zEl7IG+bm+bAx+GuER2Bdd/tMt50e1ZRK/qV0xZefmpD5a40JmoTbLcgS8FoNLlg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-3118f5.tgz","fileCount":21,"unpackedSize":22170,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhrTeFCRA9TVsSAnZWagAA/+4QAJcHth9b6U0P5jx8puoO\nYNYW4D+t6yGxREdteIUJYvnmD0e4o+hHbP37lODdhHeAqFiVmMsD3fDfUBMA\nFDahDDfdnubMca7j+8VJ/0SHue2zIV7ZrxnTa8d+hO13ub/CT2l4S7htvtcs\nKGl8N80NQe7/fkbaj/+3R5qlW1tT+AmvfPcj0ECVspPaqugVA62iOjEMQ/ka\norxxehuBMFQuedt6CUq+HpkxpkHKn8EjeQsKfveouuCUkqFNXd3nG2ldqKBx\n1Rn8nPNJ18uKavv4V9qIiL01jpot0YslpQQeEdU2+/YmLCjcXLRFfzkFn6sv\nUrMfVKYZN0MS9bBrq1RzKke0n/hx2OvBQDfTepfEh0obBzplidfka0n5Rj0e\nql2d1NKvBWBv+nRw9OxnIwvz6vJMWXFR311fuI44t9qNpOAVqj5QGvZfDbrI\npvca9pQv7awyNmYYV2HWERqD/DeHiPhOtyPtqfZMqUtvsklxuYvVDbKRIfR4\nz63Xx/p+KRoEg6EJeH8PiYzwm3cCL4lZ8Ryhts8VNi8czcYuyNrJCAbQnSoP\nqHNgE0H5gQv+wYlUIX54DrKLt+45bMA7Oa6CTru8XrDqpxA6KpXAbquRY/Rk\n4zBi5o50/DCOUAecB95Hwhk8wSpztzO1l6kt+f1UJrkbSVXt4OqC4FOMRw14\n2OX5\r\n=RiKm\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQC1ID+j0UpFKmKvC/b8/LQJJkd5yvh0SQqxZh/xezh2fQIhAKy/EbWkEATg76x+8dYFViVJ2MOe0L2CEFHjq+lgVYM4"}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-3118f5_1638741893506_0.3101682193719555"},"_hasShrinkwrap":false},"2.0.0-next-6abc96":{"version":"2.0.0-next-6abc96","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-6abc96","dist":{"shasum":"3f77864138f69ab60e3c19018b641c930558ba71","integrity":"sha512-vSjLXc4MWlyLogDQPa6qgi7yG0xLi7hI5r6RXT9aP2rKj8Dscv21eC9KgAm2Gd6fIu2JsDveStYt83bnAZpNxg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-6abc96.tgz","fileCount":21,"unpackedSize":22170,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhtmgdCRA9TVsSAnZWagAA+cAP/i5GKtsH7adO6HtysNMJ\n/EfL8Flkk6C9zLHO8CZxSwrprmw36RPWJTw/COjp1vECOJq6LkfLjfY9hfTD\n349oENfGrCVvyyA62+zZcMLcKOvYyOXp35itVpswCJLtThufz5t1DTTc5QWk\nSkJLK5b5E3b1f7lUuDUM8Uy57p8RdFJQvNitFMoxLYnAQJvn8dfDUTGFxyvD\n6VpLKBUicLB1VmHTeBFHzKACzLKrcul4XtRhV4+tUAtu1ygqUKjZ1xEoNfv8\nN3uch0/rKd5mAlhJvMSc4fj7kQtV6vq7DeGbjrigoqqjhaL+YXcUxYaN93X5\ni4gIy0AX1dX0bD3zAsOXqVB05lVraRYIvfykNROy0+C3SI2WlppFRWnfg6O4\neeold3w3glCQPDoLlJsT31JgYT4BbZf2DGUIZhFFjCqUVFfxwFnF3oTmdMiG\nzsDGzup3dDTlpWkRmp7w859vjoR3NBoLwcabYO+wmaaXMOnfhWVzsGP/KQg5\n46RHPlNj+Gr02nfGrgNNvm6+aFB6nPV3ShbbAsN+h2ofeorjQmf7EBcSXSyP\ne1IOLejCyPkNEPBAX/98Cjdabsg2trhEYFLsruvHelLpawIlkMXd26goGBo7\npNva8QSy/+NVw7ECXFt3mz+JFmzA9UUqGHWP9dUsXANwqk/3m9ABSviqmWnX\nLiL3\r\n=6kfI\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDt48ro//xYAFZJUVvRKA2I7u01hSb33LEQB9XOfcGnWAIgJPb9xW7OnFY7Eatez4PiwKixoL0h5tlICrDuQUzSy0w="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-6abc96_1639344157153_0.8647327013594452"},"_hasShrinkwrap":false},"2.0.0-dev-e266d9":{"version":"2.0.0-dev-e266d9","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-dev-e266d9","dist":{"shasum":"42826e59bce4ed4ef8a7c1167066cb121320f7cd","integrity":"sha512-YUsYLE72y/dJ1f5/8SYlGbbvAMW2X4z0tkXPqf/gkAM5wDoJO3HK10gbn/u9JxuWjmKBBYtFyyrSd7MShzvsRw==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-dev-e266d9.tgz","fileCount":21,"unpackedSize":22169,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhtnjiCRA9TVsSAnZWagAA6TAP/igTeljrRGRF40RQ/NoQ\nr/tg0nOPQN+wgtGgkqlso0rLKDjORtmdRJSZLSkMeW+ZXQh2ODr77EQ/t9rd\n2BkEss1OFSsxc0CBCTA/YASZ9IyO+gPwO3lvAMwwzXWb8YZ0uhDtoCRXH4va\nkjrqU1/VJNIW1ir0yVu28owKU3IPOgtKf6Qb5et9B8Fea5puIfIpX/cZs5v5\nq1M/JTOrB4QZ0zGh8EKpLtGeno9MLGZI9uUUEuqAgacDHRGRn0nj5TGQXcQq\nh8HfswoctbRf1p/ZQiuKtsaL9BRGmodFsPjebZLesdVisHSgK3sfQdHr02QP\nExpLTqbyuqG+VBLbGZwA3d7uTwZgT3RTfp2k1/ldXLxZqSVLsTqsb36AxtGn\nywzNmY9H3JIzqVctdM/85onnfJwGW0swDkcQCbw9bWnIcn8W20/dZMXbzXE8\njy26V8JV6UZD+wuVqkIARxIUSkeTlfostcrzz2sXRUaJNJiahFqpQXsqgc89\neifQI81m0XWan9JoQSyPOf0PSwRihVOsWM+pxTSvKxXJsbT4/9XZsr9s6+7T\nlYua1Uh6xNHkFaVUg/+7iqemQBv8DPL1ntLWxL4gZx3bTPVKVARxYaksUGWs\nVrriAVMbdYSsVGgBUCVwl+ZpdkU947Z4lXifjP90Kw87qEZzdq0jb9cifrUp\nyUnT\r\n=MzsB\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIBqT8cZN8wZut629vM0tfTLbm/BdZpLycgOGyRc0YTuDAiAeeyy4Xan4BiuF1GG6fjTSwgsxxYp1bMIMQNcFTz8g6A=="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-dev-e266d9_1639348450168_0.4942960254792552"},"_hasShrinkwrap":false},"2.0.0-dev-031d95":{"version":"2.0.0-dev-031d95","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-dev-031d95","dist":{"shasum":"d64dec5dc4cae9715c371b9c9a5f605e266e745a","integrity":"sha512-N7Gq6JJKXFAbgbbJdMZSajXcPKva6YyhGRotVDn4En/DXsSyRvAUTdvgH27BAmDx3vaaM8mCZqSYFX9WcrL6YA==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-dev-031d95.tgz","fileCount":21,"unpackedSize":22169,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJht3/mCRA9TVsSAnZWagAAiNkP/1QlF7liBvPNiK5DdlpV\ncbm09u2nRNnZPj07V5HtTPiv9a9Q8eCp3lKF7ZsmQn7j1DRUyCmgqKdMWCN2\nFydBmoFrbyd0uXlasYJ53bDp95jgGzpeIO2EpwBL8Te3cOksKWkhuqngdza+\njaC92z5N8ni0T1/CFgmm2mqeOYj7aaHyRSZWEWH2cKqiwr5829jGPzDFJmfS\nGBqmlLlLBdVoiLxqy4X0wQqEmaF+svaYOd45tUhB1zmj+u6JMnFMd6BjG0JC\nKZk4NvCT3hjWp10RfA11GAl22ZEBg7wEgXU4cLDmYjaoEH3GQNxcTJCse1iW\nqbzNTK6BwafUjAm+wuG/wCz9HWYpL+v9l8at+epK46hTpxXmCbTORQI9jjwP\n0LAxI6lHWc23I2lCsJaF18JhpeZLxhrdXjp56m8jXGKQf3iwWWe2v0CYPfAm\nFUJlOI2PDFJ4FMGDACB19ODQMQhL+cne1mwXp5iEmZerkkbVq1HLhBiccwoh\nDjnDh8s5Yqi1jlsmhXJOKlg+8l93zBZVnE6YJXU0QKVyCbfsxF+mZGJg258U\n6zrV2+dkB1lQAz1uKeMXi9bJ/2+D6qX0EOAOsucVnquN2I2uxNgkgGIj2wbC\nRSppiJOofI2+Hjn0bVAm5Wd8ubLGD11gKZqRDTJJN7VKLhk2kzpECcWWxCVo\nx/Lt\r\n=PBjG\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIFAbql8/ICVMiYk4tO9QJFbEhTLLkFTegOSoxxI2YgGyAiEAidiNt0nSocmCuXKJIJ4/BJPqE8tmxVbTGEojwpMXbnw="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-dev-031d95_1639415782100_0.3343985105149918"},"_hasShrinkwrap":false},"2.0.0-dev-1aae50":{"version":"2.0.0-dev-1aae50","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-dev-1aae50","dist":{"shasum":"7e76a0342dc29426bc624d5ca83144dfe96d7a58","integrity":"sha512-jml+hiiv7fq3BjQUHPNrhE1SyE12CjB8BuPV1B+DRMLLzodT8cobbTR3+C0Fjm8YLdualliHkRT9N6IcTryRlg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-dev-1aae50.tgz","fileCount":21,"unpackedSize":22169,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJht65wCRA9TVsSAnZWagAAfsgQAI2evQdVm7Mq+hpD6RbT\n+anA8yYcBcAZkd8WuJykbQSFzRphYZeRuOY/dZVoCaX83LNj7swu8RbbiLYh\n6pNfCAqQ0q4uvrJoPbr/x1zf8c3+dIXUPx4fWSixEwwQQJEDnGFX0USpXPox\nwNh64zrxXLRCj2MK4KdA2vC9a4BY1rdIQqRobwkfOBngRPtGtvhRrnT+46ly\nJ2KNg6hEG8Zw3cdtrZZKbNEx2Y9+/0QFN2XxkGf27DEXq0oIVVtzWs0cgnca\nwsyNaInPMbI/y1yxrjC5um72oh1txTaFHmdQpbRRIJXPlbXAdY6UtIaxLKrw\nMX6hfhcaaZaWqaea/EkDJDr7Gd7eg3VPyHkt2MGmsjhRuAlSjQMCybZacrNH\nWAzyPOvLx2yorvhl8l8R+uUj3Z6shz+QiIw4RWCRTfCh3TvxMvK99W2bptaB\nGQu1y0J7sf11mK0PKEMXgyyfyHP/1VhvRfAxN2WQjmwTj7Cl35ttTHfQfal8\nyE6Tshxh5bPsNXemZAmuW48Kj3Wki/+GhKgslpfo5lgQvvZkLPKcBSsb1X95\nOPdCU0pziTiTXIP6IOVAxdwM2iFhuR0kTs5gqWj+jyz+kxK45cm0TGoox7Me\n7FkWvWdXiEHT4gCKwxgUD5d3SWVTs8BQkr3Q/7vmdS399PqtqylNeoqampVr\njm1x\r\n=0zvC\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIAgszKos79xBYhcCATdFSuHo1OriGWlRgueeAxNz4cCdAiA9hNQ4W2dfzvsupoPw17QX82427ZBEBRKWukHFMqYzIA=="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-dev-1aae50_1639427696302_0.6750624122523927"},"_hasShrinkwrap":false},"2.0.0-dev-fc2efe":{"version":"2.0.0-dev-fc2efe","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-dev-fc2efe","dist":{"shasum":"b6b2d626a4278094b1617be87d57eb736de585f0","integrity":"sha512-6KuHTx95wnfgElkFrBsEkg1LVGdn5BtgB94h3Z7TaImKyHI47rse8LzLcEN12TMWPbkAezBLlPnMgGUhTg5jYg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-dev-fc2efe.tgz","fileCount":21,"unpackedSize":22169,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhuSkLCRA9TVsSAnZWagAA8JAP/3rjdK+BKuG4+CEkC1g5\nkdkhCyFITjjEi+PXo1b6r5B4SILo4dPUc2+abQ2y+eX3V0U7x6D/9e6qtEvG\nAGuYx+rVDeVVN8rXcoIDwh7Ik7mA2OYQN1Z0R9Hc3UMV5CoiYJFtz6TkXCd4\n4DKZ8Phz8E3Sg10aNo9ts0u3w4x6egd/SVsmtjXrqt4Cgmx+/OxiTOZ7Jzn1\nGzqauK8ibj4emSTMGwE4kFGzqAVUeDiyZ2T0+P9l39EnSSF8YGhzHOQ7G6fb\nj01b7pLJ3c5pMNdaCQLVSgFdMjLhGT9DceAoMMieJLaaJLBZBHgGel3kVS7d\nyw57R71ziUR1CiuZpBXREIIYgIlNCJszPghB+r46fDI1TbilY0/KLdxzkqXT\n5jaynjFEkdOBaGd2Ax73lNbmf1NlkeWusAebNFSC9LiXyJWJyzb/HJxeXpe0\n+XNQCyUlnghqbKYBIothvRB5ClvUfIE9hwk7ncAL6m8aH3U5SWOllCnjZvLB\nQDNWRuyJP6Etpfdal9aWN/DcwbRrwUGd2rYDRVNSjo4/EQLpnVSevWaUHkoK\n9NlRFLrtU0ZzaGjhLBdhA8BMetODlbdTvV89MDCJQ1g7MlVvAZZaD/M1255V\nPMbePhapFnDrLSuYnqeFmhj0o60n5GTpsi7FQmqHCT8M31xrw+NoVBsVmI00\nEpiC\r\n=7Qlg\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDx3MoOm5n5RrgW5ThBZUnK84lJp7Ljmn9I8R2+tiw5AwIhAMbMQeKtNdp3yGF/N9hIIXfyrZbYWqTNMY5FzTnQZcZn"}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-dev-fc2efe_1639524619085_0.1057732961206892"},"_hasShrinkwrap":false},"2.0.0-dev-cc2a13":{"version":"2.0.0-dev-cc2a13","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-dev-cc2a13","dist":{"shasum":"d0c9ae74c5f13598fb19dcec2c55371804e65ae5","integrity":"sha512-nUCPtnHFAtIbtZ9r1DuO9U8bDPCQedP4y5Ls5gOnB4p4GEwynY5Gn8m3Q/lzuk/pdy6ry+tQiKVEy3cF+2RQdw==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-dev-cc2a13.tgz","fileCount":21,"unpackedSize":22169,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhuzLICRA9TVsSAnZWagAAm/0P/RQNU8qtiM0Kp+YGHlKs\nE+2v0F+7SNzveGzD5i8CkuvsPrN8c2UsxGTBSktwKnUtzTyVwxczqaEa84NV\neLmnCMsbW69RBWYULUgqVKd0spUQSpG0Yw14ovT0Zl2u4V9g0+KIwyAgN5y4\nYq0xqxkPIJM28zDwOCmGzUSnHw9ToR6/mype+BKIBsO7chYcYuM3ItY4hKVI\nxgVzNQJcWStdQCIUxpiViO8oRgdmSAW5waL5i+h3fMhJ0tkBXEq62TfwYYk5\nRz5G/R+5cyrspdr0DcK9zS1NPxcRqCiDcg2Kt/eT20RJgLxMOR3ec22PbAd+\n7OSGGWclYzbblajFqH6UbIqbUl0X8XBbFZLoBs24pnJbtV/kjMrpBRH2vPCs\nHd9/LA3r26oF2Ml+ugxBZAIdXximj9rBpXcwKp12NeqlJhMhAa5o4vg+IOmn\npz6b5tsCMoPtopPCaO0IjazwOnsKr87IInQYCN/73bQgl+GKCZXQSZhDsErR\nyIPaHd8LT0doFSGIzPQe3zOxJLBhy2vZrRt0XqtqApHnS5E6VgaO/x6QRrY3\nEe3xM8a5kLWm6+nEqcI1rWWAlAhs1mXcvn73uj4WJYKCRq/hYjpJ/nj1KwHj\nNe6/X1jvws6ACFlsqMRae7ksyQoSwTg4qfVm6KpIVJEYCqYRwVVQUeAVEDm8\nvrSH\r\n=0XRW\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCqqLXpZpWjuCEHJtsbUBELCvf7kQm02Cd6DRTG1ZnBiQIhAI89ipvpf1dP9sjDhkyiaAH6zr/sL3xejlfvjgY/Jp7J"}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-dev-cc2a13_1639658183823_0.5005821542239421"},"_hasShrinkwrap":false},"2.0.0-next-c704bc":{"version":"2.0.0-next-c704bc","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-c704bc","dist":{"shasum":"36f3b63ba0a98910a66258771bb3aeb3a9b75ba7","integrity":"sha512-ZaQmHp53PFjvbmW9K1oVl6rVq9mqiHIoYyvedIIxM0uliF1IPOOmfWPrn6qWUSnMPkf+gPIU57fU3SPXSX7s9w==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-c704bc.tgz","fileCount":21,"unpackedSize":22170,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhvK8yCRA9TVsSAnZWagAAMQEP/0PjiX3M3Bc05AtHChSC\npssE2gvjENIgV6RhJhV2RzM7t5KPsNGWa9flST2Y/FPcngI6FJsLAm+O/Rfs\nPB2JHY/XpFPy0hfT0wKWMc9KoMSfwNmTrwwUrqjDcjs5/8RgfdkhNhLgaCQQ\nPRWwlKjaXoDLaMi9B7nYSFPgu7+ZmlClKxLa60j45UEAEz+nbfa9vYqLCrcQ\nLfcytHBQhTc8XHp9NIOsK3TRAWysxkJ4j6aYS9nUx/SemdlAYJIN4HipzuiZ\n6RsTNza7JRCLt1TXfwwvNbgPmn4g2r1n7vEfILx5XyiToLFsUiBbIRI3k0Zu\nH66yOH12uPzK76SI+S88CuLIdxVrW6tToxW7/0igEbeUS8Gzs4y8vRy3pu8V\nI+PKSQXeLg3LE0eRL6nT9/0/5l+6tETqOOTJqWeFjmh8dQHv+GZTR94Gh7Oi\nkfHV5Q5bVrcV/PjmSupDMc6KLLTVyTLHubgIpvSa5UQmGEUdxlAMf7TR+AJf\naZgmiwimF0j0J+aYuoY7Doyddlqd66A2e8hNFMzcjlVnPVS9QJDhpZW0cRdi\n+gOOZwb/dAX6X6pBbftHMHZKkD3gMgQcZDNnKbQU+dt0clnjHTFtryNsEtT2\nQAc6ZOGgcQKA8BcNMcVHAzODvr5XJQu+xzoICZpIyltrU7w5mJ4BgxnhX1Ca\nTtfm\r\n=rncB\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQC4WLqhbwsAUx7Y3jUsE+h5DNe9M09FoMoO7kvFqH05LQIgWZDKZBwWh2YouLFvEajwJNYdXeFIFlLkwdjppgo5Fc4="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-c704bc_1639755570285_0.2176054682584947"},"_hasShrinkwrap":false},"2.0.0-next-8ba989":{"version":"2.0.0-next-8ba989","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-8ba989","dist":{"shasum":"03cb4d2dc51b4f6f9e2fe862d7ad538e9dab9ccf","integrity":"sha512-+8opqvKLbV8X1fngGMTfzCWCSaVxGZu2p+3hcvJZJeTHvfVDyBnX1AOAyLC1ikaXOwhZjrUsNpn9i5Vc+zI3XQ==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-8ba989.tgz","fileCount":21,"unpackedSize":22170,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhvLF4CRA9TVsSAnZWagAAJyAP/Rmys4Ok7rE1U57LHmBf\nJ9wOqVX+8Ybra1bXeLZbE19yYKiIUS3V6vSGO8S1V4vDyOJprVniwaLe/EoC\nqBBgHaDXF9pRBHfiRd3UT7r1VvGz3FM9bMHarZBJeYeAsaSca/+WEVaHmVsr\nVqUabipCNQ2cKIRSQCGrh42Julc2x+Hb5m2P/y3e0A2lN8pFFc6f80lRLl4R\nNrh+OHghKPol7ubSR3wtn1yOX6WH+PUAauvAEc3AjFuzHAwXQhZ6Fc83ingx\nr8Avnjb2aMC1/8FqcClk8LcwKGAMbLz/zaFMFUjY66yGwEgNwEyQU0DdRghX\njHCdxjuQil/d1ktnik3srLiAMll8gBDoBJU8oK7tGZODvFlf9EE0Z3nafwpT\nueVhMLKuISDlWtZnbKYn7PSdStGjFX/7b0BU+0712ESQbiUr69gRPwosEC03\nyy9hkUN/V+BGCr8wA+zsNKGxPPjYZretdl7YUHoxumTLX0urU5quRx8ZG3sU\nOyb6CuU86R6nFfvi1pNajRvjMSnj4jh5m0MoebyIHskDkecUv/ulsIRTQ66z\nFMHbY8SXorOMHoJoNt4/eBuG2rng9ccaQAceQg50FGey27rP5J4HlNM2hrMR\nY8j2QkWCAv1K/aBDL4+KSnv18BSvSZthjjdLcbaYDFw5gsELLp3of9lyaRbY\nirmY\r\n=e+Yj\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCA/Jrc576lY9lKfiftSmqUkc3XCgWlqvZM1cc4qEydTQIhALbJGzglKNcOfAr4rm4I6SB/gpSAsUYoa01Bihbs8KnX"}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-8ba989_1639756152529_0.44567889877079536"},"_hasShrinkwrap":false},"2.0.0-next-084233":{"version":"2.0.0-next-084233","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0-next-084233","dist":{"shasum":"67cbcb32b9a3c38b2c7100fd6b6076a2e313e1cf","integrity":"sha512-GYca/SqHJiGQUaL+we3CGEZJVL5pmj9w7QaC6tkaiOmW1OFICGkifml3Ra7gPK9RMHE/9BEO5BvVZwc2JJtgLA==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0-next-084233.tgz","fileCount":21,"unpackedSize":22170,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhwH3RCRA9TVsSAnZWagAAgaUP/2/8OHoptmfYnOf9sL5p\nRe5GKWyEoF9buwSnX1zr7lrEDcAjHjCGL1fp2V65AKznnCDdD2AjqCxQmeET\nPVzskxpbvLzT047XMDTmriHFIJtsr7AUiEP/1rkE/IC/tM+LsQ7LQzh7Ejex\nlsw7QgtZovnOL/io6HrVHxx1rf0onL10cMyE8FNcz9JE9CeaHcOaJH8c5t4b\nXiOykXdftEuTx7cuqDHCnVuC5vu+Y7aSeDykRvkOjyZB9UbTMXTSSCpWoX6k\nL8H859I3LxcPeP0y/Brv4Wh2lql/E0Xc+7APVaa5HjqhCy61diQ9Rseskz6D\nyK7aCS1lTGfvz+6YIk54cGVY1ym260rapTPmT5B7TE6J3xOlbtz1jY4ruoNP\nLL+pao92gOyNj6IhuWgElFVNNAdQDdHeGQdZYaoO/egDin0EzsV1uJXhiWiY\nZH8xHPdOqgmCDBoAT2zgB/5oTZYVvstWK9+gA+aPhwVK2Gvzd/6I8FEwENis\nOdUC2++T27QDmZybkH1x3/4U8I7v6GqpAk5LvkRpph+K5YDZ/IfJJ7xgh38b\nvUJ1LGXzKdwIsCilYGrSa2q4KBfBe/HsAzz9GRepYsB90RGYpUpsrvYvHG3C\nXqvpe6Ksb06Y8SmIEa1koY02lgalGrTkt9bNU41SzqrxR6KuT6rASfL9gJqZ\nY7WA\r\n=gQIQ\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCtI1A55mKQdiObrFyhTyESoukBa2VQiwVjg14oGLZOYQIgFUxMyWHILxjVElgUQ6gaSJ6DyjaB3a9PW4bMzb2qozk="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0-next-084233_1640005073568_0.5517776218031378"},"_hasShrinkwrap":false},"2.0.0":{"version":"2.0.0","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.0","dist":{"shasum":"d793897e03be24368bfd3a26fc7e95fba152f416","integrity":"sha512-Lzow33mR4/v9htoR8yvWjB5WoB00LhhEP0nmesI/AZWp1QXOZPkKB/QAAoTjYneRLOp3XWm0o4BvFhPY3ZrEQw==","tarball":"https://registry.npmjs.org/context/-/context-2.0.0.tgz","fileCount":21,"unpackedSize":22158,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhxh6mCRA9TVsSAnZWagAAEHEP/jzagRNUgJotHqnl8sTO\nLmZEBEiyX0vTNoS1bOs29dVi+Lp8M+CRjz80akCxTw1ax70tgWtSGFjqUv9/\n7ZB8ulywDN7kl4R77kI8vu/8dY6Jkkj9Qxe6drBe7LhIn1IS7TcxLlSS6QAc\nO+N/mZ1B83ba3A+5AsonL3SeiISvbS7QU6eC29pT2yvXAjij57NaZgjmZtpB\n6bVAz52GTsv6nNUiSBWKWREz7rCHtWDoPFsAc8uwlIVwnhaqP2GizKYtQVLg\nguwJR+DZeSd5VPHXX3pY8P7uI0U2DEh7bPg23u6dMpQLuUpMxPuJMCO83fvO\nQsmTsc6FqoGjXzJiMrxU90HOUm/Nix4mMes4JJHTOCYWA2eyWksLAZ4t6SQa\n4gF9H9cNxP7Agb96kb51hlgpqqszuEC6IyxQbLpYdjimXEILAXQArbnHArmU\n3ZucCrZ2tSpbOWQC2/t2o5khVrBVQMLCn2he0CXbQbK81+Vu9Rcd2MiYywx9\nOO/V9f10vCya9ryg7aKOj0tq1drnaMQtsfasz5rVqFaFsMeu7bFiRdv+atmQ\n4+vAwpsW//9iAPiIZ5Z6L/fZeQIVJQHStU/4t1PsImJBuH1ja2+g/WXLjZCY\noN0qEKrltLCY4DA+hSaNHLQ4qX/U7iHQByrNy4QaZ+YJP7tjLfzA/Ekx7Htq\nFMKH\r\n=C4K5\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIBc9npTDjaGTR04RWObV3IZkzP5ASQFTYXdtvKxna5GfAiBDbjx5iK27xcgy2yI0jMRvrxoOrO7kvJNaBUQ865zZ6g=="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.0_1640373926227_0.2861606862848103"},"_hasShrinkwrap":false},"1.2.1":{"version":"1.2.1","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@1.2.1","dist":{"shasum":"ed80127b51cc07eb948500a9d22fede5227cd3d2","integrity":"sha512-LcLMF8n6YsFI9tyyz3B6UiYJmKUe+oPcCtp/Wjw/vJWXZEB6DeoDU6p6x7PUYUsNWeZ0bjT2vJ2yiaX4Up1byA==","tarball":"https://registry.npmjs.org/context/-/context-1.2.1.tgz","fileCount":20,"unpackedSize":21038,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhxiewCRA9TVsSAnZWagAA77UQAKSb8HprlT0nA0fDdw4t\nHoRnLUyOMBZh/yzB4CSxFvrKPDJfmGClqeutuQzeY5+TcjnkFQvIuYBm+dZ6\n/+POXUO6+Lwv2DVLL5Z9suVXOfncn7dNH81qjkGJA8fuWJEF3AwuSQhu2XJk\n0a1rrlYei6bPQu1jEG9Yq+ds00cEHUTmsxYplqY+O2lkgxkh9yKBbItSR5LD\nTNI4zns2ROKAJUrGjUJKfmw+5sfGeMsYeb3vHuCNqekFatT03VTAqAI6BufA\nbY7FbKBdNPxFA/8PeNz5hikliT0JUtMwtMoEPds+aVpfe5KR4xuW3LWwPk9w\n/Ff9FMDX4hKtuldy/7HaTZG6HUIhIFrJIiPC9ubt5Q4wYn7mVqV5q2sMgiJ4\nPm9ju5uj7txHFL+miN/7miWDT6xEo8UQTWX/kEeIWpCUNzlO+xRjPyFy5j7i\n1zqJa8wFDpXqMSA9Mj2DVoMguiyGcak8p/27Bm3rUP/z6vHWymWSrWzIf4WC\nxbavp2FQTqigyy3xRAyGr4NJtTDR6mRKUQaDLjWBBvfbktRB1p8jw3v7mtFU\ncKz/4WD3ZlnPKKFZjngX2RgN7aDfXTdD4/8l6P/9hy0eRgxT0vHVCMVR2iec\nD9DRxFbKoefB+9q5rBxrz7LKvL6i3eK/CClYzYGnEMxfT0T/FbQ7gGe0LzaM\nCDoF\r\n=Ti34\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIHXOB3/hnID7BdV9wUm5DdiNgx0zmqT2JDSNdwXAUmJJAiBRn85eGqSiZd9a90f0r2D6xNpXSMvxUb9Gtx0aZrKOdQ=="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_1.2.1_1640376239845_0.5311230171290515"},"_hasShrinkwrap":false},"2.0.1":{"version":"2.0.1","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.1","dist":{"shasum":"f5bbd0d4ee2a5ced0eba2636595173704759dfed","integrity":"sha512-8QV3EXa7WP9l8aL8a3BMM792vvuPbIyp6ktGHEX6V4XiGNaiqxCGMRGzEavE3cPnHWqI9fXTujPEfBPt0iRhQw==","tarball":"https://registry.npmjs.org/context/-/context-2.0.1.tgz","fileCount":21,"unpackedSize":21135,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhxipuCRA9TVsSAnZWagAAzqcP/RP5Vu+d1YY7bxP3c0C8\n0zUDMDtNjI2tAX68+wOIIORVtN2MD9epdHzw22KCl3/XI6ODUIefCmd+75mE\n8ubJAYYEyXzsOohbU20D0jhonk4sBpyqKndatbrgni8w9xAF39G0mS91iqfn\nMI92hU93J1ti6lLG1XQ1wID6YURBblj96x8d/5DFbNpjkInEbuVOECvp6B8g\ny5n3lU0/zN+sNREX/KsuucuE/u/zS/2kjrizBqmwg/GpN+rL5pSel0fd8rAf\nLMANdueTv0cV7p+H9NBkjRdqJntRZkFxqED6rtlwgpsP/MqgGs2bSwCc/qyG\nt25D6Y2D5/xX+2l3TkQVAyPnUJpTa2X+5DBPGbQ3gFL1s5W8G8j4j8NYgJoG\n2wkL1i0TFM0IKEYD5Es4lp+GcMG2ZtEkd57cZdhONby2ByaH6DVK2K8tLjd2\nOB3/wAYBBr+S1/YQJjzCQnzust8nXhKmlq/W187897edNAZyylSwfd4BkCyw\nwYVKqFChwWoGAhnOIwV+s9HUz5k7ubn8AnAtZA+vAKMPOX+Ac+UkTIAlYHsg\niN1/3mRclh0T9Yjz8BJArvAW8nUv0zchsILWH7ngYEpnQpzMbINBfjokZj/p\nBzNcCkKZG56ndOISGq2D9iNR+iOjyj4ovjqUdhcQHH6DoAWqCZmsOdGIT55Q\nclzn\r\n=xQZ9\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCJn7q2g6k3B0WFn69qPZ2u6wmkETSULCJUDOixHMAyxwIhAPxWQ0cg3E9T4rIMEbvC8RlpVZvLlPNGGnLoatBIuwrW"}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.1_1640376942360_0.2768733576085567"},"_hasShrinkwrap":false},"2.0.2":{"version":"2.0.2","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.2","dist":{"shasum":"cc5a2b3d805733c7370bc383070d7f1240f2c75d","integrity":"sha512-9qZJlz8LVkr6RqGbqeSb05tkIT1GQerWvd175zuTzupYPaOxjNVief0bqj/83kVz3TwICZrirof7LJIrNz8Bxg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.2.tgz","fileCount":21,"unpackedSize":22062,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJiOFi0ACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmqwrA//YkemgpaCMeM4HXCw64GRNPsQ22bL8wtGcGXzfr5zLRl6etL6\r\noWVOZiQY+58/hwm9QUC3dC12Sl42HSRSmEAXOUzYf8YuWItPqO9jWa8eNWTK\r\nfeaLjR6MBcc0ApzeBWaOVU4HBYTsWMCmnHcKFV+oR91Ve46sZroTFGJccXtG\r\nKRh3giUfdaNQ+uS+R8+qFkiUvhElhlPCCGdVmRGT4qPHgJCYZrAw9qNOLSPE\r\nG3LdBtMfcq6hem3tktKxksIPBGu4dO782+/43LUwEVQ9Bc0taxwdGZLhyGGu\r\nQRUafMC9abyZYDTiNS7dxqrdcAYwUQhKwq1aqnJl/E3DvvNfYrQ4Waxx3reR\r\nznvMDrsFTRzPSZqtpPbmrt6y0Mej5kdd6t65gcOTtEShkm5iD2XpFZToxTCT\r\nFKrBAP3jMR8vF4x3LBlN8F8iJPDHBQ7Vp+2JFT2F7nkSiXgSEtnqEvWTzDkc\r\nu1V0ytvX0lc0PtQ1kUob2W+3+2V5YUNWjQJZFJQCqoeTvOfqjdvTG71SCuUA\r\nw1nLQcjpuOduDaCQT8mNnesk15Y4sUgEqwNRIzIbMPHOg4j9dbF1vpPDNN2H\r\n2ItZwEdwaCiUriEh9W6aSkzyMflvuxHrd7pkw5o7lhUUTQKNs2StKpuCVje5\r\n/fldpYIuOvHNnujoHrb1OJr7k1KqO4Rru3o=\r\n=JSgS\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDFGz/4RtFXBe0E9SE3uYp8fhZRuK0RvqCJHvRMN91hAAIhANGIjCCJqGfkZSSmKiLYp5FI3KJmOBkqrFyQHLQKLTqD"}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.2_1647859892305_0.9414735403797456"},"_hasShrinkwrap":false},"2.0.3":{"version":"2.0.3","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.3","dist":{"shasum":"0e112b9e4e68558f820e2b79f2ba9e2e41f6edf2","integrity":"sha512-v0FDsuEVIjAya5fJBpNxWDo+V9+HzDl8FyoXg7aCYJ6iF8C/rfhpIw9KKI2IcA0fZ70OytQPqN55cLRf+R/RCg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.3.tgz","fileCount":21,"unpackedSize":22062,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJiQiJVACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmqhnQ//dk/3T2OjgUaOyX1A8HuccpnDNNL1DtqycYGELwctahE/EhyK\r\nC7MtTpNcN3wakxouuGHpN2UJDfeCH/babvibF5KN0Smv/2R9jFcXOMG9K8BX\r\nRwZaEkQW4ty418zG/tiXFAi7XSeis0FX/YLhJmAOOpcO0ZuaeTJe3AIc7ykb\r\nuvy8uJftQFY57Vbclc2G47R/FYxPG8hSsGjxYFQt9UpoD5JwXg/kYUL23NmF\r\n8OpS4B8x+k87We9nYtWfLiQii/Evr6ti/tqq1VyB+WPLv4bH+J60SAb1GM7v\r\nDaMH2W2oc72gMbWiFUiPeP4aZZb+eDNptqpn18Zw64H6Vx7OzPL6y0215XOO\r\nL01MWdd+p2ZFxclH+WNaS/P8WWqsQqOU6ssBn63N47g6IlSg1qYlxrgJHcg+\r\nF45bhcMzsj2JtlnNena/W+gC8ijn1A3CJftWn9Cfs2tvI9o3ttKYvZ1NbgjD\r\nM23gblIiTydWMZ8qvKirjVKeDhxXhN73cABAESvBYGqFMWvHnUoT8NVy5+jw\r\nu+rA6lGwsonka9YcUFz9YiewVQiFXfUPrjeKscEhuRDAuLwF1bc4V7z4m60X\r\nzaiw9SCoRvTR4JUk/RZi3nx8An8yNj0CFcfYTO9RcbaQd/jUTl7hEOqaMe7Q\r\n9ZYN/ZNFm1Zf0NDyWgvz3x/oNqNE3xj3azE=\r\n=EDRA\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIAr1eI55MHhyRcdkD0jdUKl9jMG4IxmPXH8GOmN927qDAiEA88yhHr879NNVjOIkYxaxNaB/Xni0Sh3D2U9Ohw83ZsE="}]},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.3_1648501332890_0.42097722259959536"},"_hasShrinkwrap":false},"2.0.4":{"version":"2.0.4","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.4","dist":{"shasum":"6d0e3f89b01f3d56cd6d476778d891a901021191","integrity":"sha512-krHy3Ym4lOpYvvYqLWaGvvlcdHKg8nR3oB8GNmd4PBki6KfUuRZMF8DkYLfNif81ZL+SguwZaRydbjzckvH1zQ==","tarball":"https://registry.npmjs.org/context/-/context-2.0.4.tgz","fileCount":21,"unpackedSize":22062,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCkb+C3Ndg7t/KeP8muKOTdegp/jPotFan7Hfq6ts8sfgIgNXlqFe2iG2InBPT06s5y3U7Fn/XC/VDQt8b4vIMR3xI="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJiUDTpACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmrA2g/9EAxsdSJsSGCQi0PhQBlw7g3ostEvAIgccAaEJgevPoDrsuHG\r\nRPp0+7VZ9uqGxwVSRGIyoQwqrBkvk76ThpMhs7QYK0eCdT4HYQrDrpaWeZiJ\r\nKo7CFvOdLpHyt4mPD9oA2HqSurh2afI3NcupTChhxcWwKgAJRb87teN+0eUH\r\nuA58LfefkHSGCHXe7VIGj0Tsa2beNWjsxiWukDlx8djTjidMeZr2QLkQ7JVH\r\n6QsDTLNfgN+9ogm64TYndGQwe7W/Xex1QwH1KMaWasFA9sTDi0W5HyLSdxZr\r\nTipOsfvWNu6mWBWVY+fq+FqqhQyRFtdiwZDHi+Y61BeKf2cb5czAbZY8JiKq\r\nirjaTQ0MWuIFRaZoWIJ7kE7y7wDXMOjRDBhnt//SRxox6Djwh1NgeGb/NPhj\r\ncxu07zDBNiSphVWcNJGmDpVcKqlqGFsHvrnfMQeXZVY+ARnNElHRRE/68cyj\r\nK3sez1Fd0tvxkYwOuRJSXRWtbdyCAoHGxK61VRnOm9G74E4ZQd6p110+pb/l\r\nDdXSqc82Y0EFoUCZj8ihiSUxhVtm6N/dG3kuZY5q1ccw7eOfJmsIL7Lslr5L\r\nwUfeNOP9VqY8iKcLOtNqZLrLTW+RGbBFVg/VTIrV8gwByUD4HKh2aTlnzmEK\r\nBHonyoHVenhzLTNjcMB6jxkJMpHQDu8cmvM=\r\n=b7zW\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.4_1649423593374_0.5272139961989772"},"_hasShrinkwrap":false},"2.0.5":{"version":"2.0.5","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.5","dist":{"shasum":"767ce8bff55beae662ebb3f4e3adbc89370c1586","integrity":"sha512-LotOnElevYS3FmZt+AdV2sWTU8tQYx68dqIPf+PscA8sQXJ5ZN3ge8NVtHBijO8id9QrPpyNNGbziyrmUOpfiQ==","tarball":"https://registry.npmjs.org/context/-/context-2.0.5.tgz","fileCount":21,"unpackedSize":22062,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIHnSlz8+Fm7eBEGPifRtj0sGRS3ot4OrcFr2Ug2ZdUQaAiB6Euo1PZgcgMJxB6ADMeoPtBpXn5EyigaTIYhnVgV+sQ=="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJiX2EyACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmqKCQ//d8jN5MH3/+S7uq/JW9ZdIDiGHxQEWnn/NFEQjKg84eLAciq6\r\nn0U2Z02FrdXndCWL2+cyRqhmSEVo8qeoBFn2Dvi+s/0cdWCpw2uugkj5pJlI\r\ncXrdaDzbjsjJFazG2IQHUKz+SzE5XUHelcFAzGGZ2cAcP0o/QNeUFCgvyUZO\r\nFsZFcco5ooZUPbokgra1DBmNpsq/mmlCRgDgNuO9k21fVJEztPQv7QPiDsk0\r\n7Z/Vw9jMnx3D7O8QPFGHiy3Y8SMFFaOEgqDFClD2MyL16Ila9m+/MZnBezWg\r\nlxETFibmlJpTetB+yuzMfZOeXshvFheSL+oap2azzoq1UGbt89hpEMQhqGmy\r\n4GoJ/CyV8FecicSSsT3ByeGb2P36Faq/lYTdSlMFAVbt9r1ba9uu6AYhnFUb\r\nCPbYXATh4weNPe+mYIr2z/qj9UEc7/HfDCxKd/4L2YV7xzXat1jR/P+yL4jz\r\nyaK+xG7SBYcheKHGgd4/WCeSk6V5HaG+XareYLC0R6OM9lauTrtX5Qj12Vw4\r\ne2V6i8D8f4eLghJZ6fQw9wah4nlRwYq5d6WxzN5q4/WszoH6mTXjhhuTzCZv\r\n7wgi74OTyCN5m+hj+gwCSwDfK0ReUZWKP/mXpRq8hBZP97JpyaSicnhKK3FW\r\njUhs6U0LbSiBx9GXNMEqe7U28MHDid3vJeg=\r\n=wakq\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.5_1650417970157_0.8322740895630061"},"_hasShrinkwrap":false},"2.0.6":{"version":"2.0.6","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.6","dist":{"shasum":"e47d691d9f1bdf4873909e1488f443f30ff73837","integrity":"sha512-qfFtpZ/4XlrV5fqEF+cU5A/XbM9vp6rCFCsOr107n8S2ENAHzuWbdiaBgqgUUQ9fHJ8aXktCaXkXjTPPIcohUQ==","tarball":"https://registry.npmjs.org/context/-/context-2.0.6.tgz","fileCount":21,"unpackedSize":22062,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDhPoyM0KI76rOiW4rVUKNjrlt26tlA79xxlpLtcEqVmgIgZ1frMEMqjL6AgRvx4YmmZHCgAX3vJN7Qnxzm3JZfn0U="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJiZ+8FACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpSKRAAldQxnUBBuNYU4QwJogIRzRumwqICmXdy0+DVbLkuoVzBMN1l\r\nuWY758wqc+weuPThLRU0BqY2p3ooP47dZQbkMM2BRQ5fGWZb8BVYqq3H6CxJ\r\nwxKJR2Ip2A/xC0i5cZPsXOX3kTz5kyjtSLvcC1IiSAb7VqUyTJFEk2HXBC7Z\r\n6cbCVchAakNT2hS2i8msX14TwE3v+kXYmLChMqTtXNY08mHVTf2Ijxhupsk4\r\nAViPjxgmN3rV4CW2c9VP6nxZ+2/fIK6NerhQ1xmmQ9Go3Tfq63iHexKZf3z6\r\nU2dgbdPQm9o3sXIM2DPP8bFshvnPsXZ8MSXQVB4Ld1Se7LMT3cBL6GWvGg7a\r\nF+1gP4x+bAxLU2Zp0zRmPYG5W/eIfwbeTTFOPKLg4wJHfL7NRUOs/bsFMLGQ\r\nU7E3c1bq6wyEZtx45d7DZN8GAmVQzWIaExZCv1qa5P7kxcb+rsLj4iyLaWdh\r\nZ9UnJUDLr/KIHclmB87EEsJnz8A2XEtRRX95h1I30ccaMwiCImqsnGpLMBQq\r\nBWVM4ceKisSCZkvVDeDW5kENcoKzlnyAYI90Ai8C2xelqSSACSiH6OXrcVdk\r\n7youwGFHj64LVMjq2n0ISLofYMl1XfIc40hzMyfBu1lZ+/ZJsFFxY2hmm2Cp\r\n9dS4vuZYOVxewrhPvlAirT2d/Al9C6c0DEc=\r\n=w+Mh\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.6_1650978565309_0.7050499445033427"},"_hasShrinkwrap":false},"2.0.7":{"version":"2.0.7","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.7","dist":{"shasum":"98fdc76b15c19d30699ce164e1bf68bf0b89a4b8","integrity":"sha512-umcvGboJps1zv1bJ2eejMRYBmacqPNwH1UTP4Qj46VolIDeKRUnseU3fa7UBv/zOWPkxrZVPi003TlRtK0I6Kw==","tarball":"https://registry.npmjs.org/context/-/context-2.0.7.tgz","fileCount":21,"unpackedSize":22141,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCDnNw/q/rUSTipb9h4ox6S0FGY4hCcIKvt92ZRSrPBOQIhAPrnsnXuN9/4gVGl5brsAj9wvpZehySBSplvbVSI4C+g"}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJisaW2ACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmrS1g/7BhEfk1vPB9cGCiNqQzKvreSuM1NjVDHp9V68VrTyAvpLgsN7\r\nzGsvI6hoWgD97ABveJ7acjN4OBHAFhnExlcClcTx4JBW4BdWxXhf0iS1uHAT\r\nCNtTPuv3MODpIsciOHi/6LGGYjJNoYpdJRBB0hEDHGyBuoTXqVPJ+mIOZ0wx\r\noreme3L/ZmLAXZEebj+LLctXgQOvKPHFHf3feKg7YTp4WyojLFJ8qJkJXSw8\r\nxJiLlVK7+fiB2ZmHO+tDBCatpVwSwh6jh+NkieYnfbz5kZRzHqMMTJ1NSIs+\r\npLLU4qAHwtgIpFvCYNBBxQsFWWbsjBIRJ7o5P+mH64s367hS155lwm2zuSEx\r\nYBxm+b2IzRltFSpB3BguejkYmBZDg3SUJhu+n4v9Afi2OmwClfNI1M/RQnWC\r\nIsZ5ADP1d8XqmRSgCuwyaFS6aYl274nqx5ER+8YhdZNdZtxa3n9HKS0kU9ov\r\nzy28+r/J/6EPqdK4pNOSVXIETw7K8fOMkFLsuebd4KyTsLNQlK7QHku0R2jm\r\nXKIRr6ea8TQPEXI+AOCqfmhGKVGk4NQinnWZX6Nru6kALP0D9iOKRTFWzcnZ\r\nFcMtlc5/g4MNiNVwYvYY9krRqpFB1clKsfm2EB/b9Ottpjtt4bp8LwT7Ntf/\r\niZkhPdrtchqrAB33aTkf1J/zuleCPVDqD00=\r\n=GOg/\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.7_1655809462453_0.18406311778545237"},"_hasShrinkwrap":false},"2.0.7-dev-afe5de":{"version":"2.0.7-dev-afe5de","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.4-dev-afe5de"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.7-dev-afe5de","dist":{"shasum":"36f91b3819cef0160cc31a59683c47eac50ef613","integrity":"sha512-FvYvL67y1vSxmQYDeIeK1iGSq32+fzrFCOMkX5bnHX9vfjKYbS9gumsVDHRLlOr0Yx/lccVZvZlyyfyJiFuwsQ==","tarball":"https://registry.npmjs.org/context/-/context-2.0.7-dev-afe5de.tgz","fileCount":21,"unpackedSize":20129,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCPupMUsCGftB5TvMwDzpIYyCFeaKmxi6am1m7URiWgtQIgHqyap6dXeRNs/q6Jv222WU2fCLyUlOT+jPgH028eehM="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJitL24ACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpzAQ/+OjpGLFxvqXZ7260zlpfYMkvmitA4cvaC328Q9HNAFnF5w6xL\r\nA7sqpncphVuzLsYc1HQU0K3stW2tS+9hKz2HWi14MNiXN/7JCBG48rfapEiT\r\np2IS/A/v9VJYPUoqnbsgODNKFrzKpgKgL0E0DD8FohRnGXo0hCmee0S/UD8F\r\nmDuaY6PrmZaSZNl2hzKkDD0VkgZZYgcf2kCL3Khj+nzdnyv28hltOLVu45og\r\n9yMf1nw0CqE1wEPlNQRB3+AF/HJt5J4A5kS9ZahyMz6UUzCHqZGzWUw2/C6X\r\nbn3gNW2X2LluaLl4gJJ1bwTH/Vjb5cuVIBBKc3jWctCnEuTWvhvB1PK8i48h\r\nkFTyMBTU1CS2fBIEm8GWFftvs+C44efAWsNbMkXxqeXdltNITQ37GS0pEOQh\r\nv8TS8hssDYCBgx8+AhQ2OAdqce0BAIR7uyMtAt8VSx/YBAa0NuPwled85e80\r\naqul4/aA/+NO0rkTvsmoDOAntKn/KixbQnWexvlX8hlJrT+p6r4Hul7jpfQg\r\nHfixSOxcjqgC2jDI2zXuKFUQvE+vde8EpGhI8v0WqYJQsulLz9y3Sb/zRgk0\r\nUFvgedQ3LaczaISauzXimiXAEgCCk/H6dPe6r3tpQMBjhuFhLOMzTMvn2piA\r\nfbsOl708J1zSwc7Vt8doRCOV1Q8g/se8l/Y=\r\n=4vty\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.7-dev-afe5de_1656012215839_0.27142048016856757"},"_hasShrinkwrap":false},"2.0.7-dev-d13b14":{"version":"2.0.7-dev-d13b14","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.4-dev-d13b14"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.7-dev-d13b14","dist":{"shasum":"271c825628ab64af5cfdca38c89d16c6ef1df96d","integrity":"sha512-qo3XitSGHg/N69j8tjMAnZ0bDuWHl0iH8q79IxkZ2DCNXw82dXZ9PHlkL2iYd9ixJjoakxQefdvuy3Q+IeytXA==","tarball":"https://registry.npmjs.org/context/-/context-2.0.7-dev-d13b14.tgz","fileCount":21,"unpackedSize":20129,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIC3ifVf1qTaOM+Azrj5OYltBR2enQazQXxnR8RFTq/zeAiADElNNb3MOZyl/q1DJSgoL0cpsuY6GES34EzrRkT1pzg=="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJitNfKACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmr7EA/9EhghRfq/kKDAEstOrnnvNiXEmip3SHaRXEAm+yiJghOHU8KD\r\nMcM23X0EM0iHx+CIBcQM27uOMDOTCukFfLPNkIaugj6/Gpsau+uMck3dwu81\r\nriar6UUB2g+puUU3alxQTMJVx3Mi8DI/defrgSmrCX3ONuAI02YXo2qu425J\r\n1aCFH8jZHcJ31w1HuaW93fUNU4fmlG9IBrzQeSNxxnDk/PFgmB5lgtHtGbRX\r\nWwT3+xRnkgK8du5c1B9EONC91NBWhN4zAK1ownBNR2g2xuKPxZmThCy9zSFr\r\nbprkkq68lYOJnzwMXw7E1/M/1Jp+4VVr36iF5+8O42Cf4otVTYL5mYQaIXsH\r\nMRalUm0uULnu80nJ7lFNdFMiPavenKu3oph45mNqn75F642g7FPbnjG7yCMO\r\nLuK3bTF22bTBgAyx1yY4crS80YhYLwvYYwRKqA4ZkS57mJeTOMWZ34yk4DKQ\r\nozDOxRdBi9igH/tzIOqKFCYP3PJf/MPyWJIDMK3s2bEAZU6jMRun79L9uFqI\r\nCotAs6MHu9YfbbWBKduZ+oyKt0SqGqbN9zA4FPgT+9H9aLWtjSv5osqdtV+1\r\neguZU+SkpDdoD3PvQ2b+oMchTVS5kkQDMR5A6XKDynltNjRUtvQH2tVhG1l1\r\noqW4rSX0IjouIgv5dcyMElQTPAvAyix4rqk=\r\n=5j0Q\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.7-dev-d13b14_1656018890358_0.9404848073576173"},"_hasShrinkwrap":false},"2.0.7-dev-ae93bf":{"version":"2.0.7-dev-ae93bf","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.4-dev-ae93bf"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.7-dev-ae93bf","dist":{"shasum":"48e9d525441f19ceb79f7e46d8aaefb3733a2e6f","integrity":"sha512-KCChQ3GPgCykqG8+/zJBFSHvd58b9/q03Uf85f0Knvv7eIGAXnNDv5M2JNDymIgoZUl50+30uzB1KSUBdUxHUg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.7-dev-ae93bf.tgz","fileCount":21,"unpackedSize":20129,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIBXhEL4ejKkUvcxPH4fo4lmfTP+3ERYfH2tEYGr8ocw4AiAZnWfYf+couBkd09iDiCWk+KqWl1mGhFfqqLpPUJ+zlg=="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJitNg8ACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmo7FQ/+K4vapVtU6K4s9GpmGAzIcJyToNKiYmSWs538Nn3eIQDJB8HN\r\nDOp4p7bYW4JbdCPH1b9ouXIE0wgM10pZAU++hf1D4dCn2NFRbnHOL5DMEGbX\r\n9JVGSv6m6B6hHXCrNHe2ioUaJwBC6qqqUfQtIEmswydAaoDCBtTKZ9j7SVam\r\nlLGkmFaklMfpMxI8M4R58ikYFAv23Q0NggvY5coxI3+N6/P9jO3WVzD2Hlte\r\nLcNoT+L2wSta1AzKS9ELJURLt675NtNn9O+YDweNuHbUmVwVTKBN0NbuzyNE\r\niFhbPtIOCu0s8JPwSekK92xT5uvmHe2oxYuIflpD0VcpT6a6UnZJ20Onr/hc\r\nKZsji62uhzbOD5rq6Iv8lBalcok4Pr4Tn0pbodNSRPgDSuJmlDDY4IbtHFxB\r\ntcmUMueT1kCpVv9agGcaQBMjmlUoSQburRL8iWzNTIkygo9ZuJcWWG+nQuuJ\r\n4rdiOdGu9qtWhBNyjAVpWnekFYi1+IsBMbEYOCXX6OvtTz6yDCIZtDY79A9b\r\nwdsQe+58bcYzIGT0vTz4RQlJHDM1v2oVXGsvzGfaYnKZ5csiI2EJvV3J8I9Y\r\nBJPpdu4NJ+9P8B1G+Dgf3ODqMMnpG0F10NogTcdiVNtwI1nBGchOkhkPezdX\r\niAuRonTtAQdBvec9BJ2V05uxRyDhCAtnsEY=\r\n=t+v4\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.7-dev-ae93bf_1656019004394_0.20876992146096862"},"_hasShrinkwrap":false},"2.0.8-dev-c786f7":{"version":"2.0.8-dev-c786f7","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.4-dev-c786f7"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.8-dev-c786f7","dist":{"shasum":"1b47f64ff3b64f899d8de3e7138f776a470d8645","integrity":"sha512-dPxFO4e/VeD0ZZsAiLU6DNg2//Jnd4mSUJYqY/eBN5fNkPIwAAecpnY4jCKjuXp1OdR1F2eL6NB8rVrfstHusA==","tarball":"https://registry.npmjs.org/context/-/context-2.0.8-dev-c786f7.tgz","fileCount":21,"unpackedSize":20129,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDCAGErHRn2gsbKk3dp7I4Nshzc8QBBC57Fm/HeF4DyLQIgeZR9M4wE5KMlcp8Tm9q48eKWnaZglQmIyzaAy35GohA="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJiuIynACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpHOQ/+OFK3e33g/i/EM8FC5zf7odbNeaTLfR05B8zZ+lxWaEfENh6z\r\nt/pGSP2+adbvoVxXzbIJOWvn7JuDugZZ5fhCU1wUIH2YMYrPznNwbBzpc9TE\r\nR/ENb7K+Fz9PhgMDMLLvefgZPUJ3IKdq8muMdJxirJq5VFrbxkmqzqXzNiUv\r\nfa6klVFN2J3D+zITIHjx4Hl1/iuz/34rDZ6+ymoBbXGKxBF5tbuZrAA9QC5b\r\n+UWfE1ON+q2AlTr1N6btqv7Qd1xG6rLfDJqofjdLszlviUVCeGQte2cWKyvC\r\nKZs27SUTgsViuyVtgOm8pCx5Fy2xvDiBnS7j/PmJwj03f0W1q41IdJMx8bV/\r\nrqFs6WonbVQ5EsEGOV/D8iJsALMOPfilMdn+f9H0VVyoCo60s+SDbaR4jCWa\r\nGAVqOJqjEMyrtZ88WI7bnXLhA+lom9bV0usE41ZVHqt08o0UHkrhOT7zBNUt\r\n4G0e9qgZE90Fr4qEsXJAzSNLzOP24nUQESyVTi9Nj1FqOn+EG7ZDivrhL29u\r\n2Oacj6ojhVf6ld0f94zh/V+OORBvUgp/g+kkJGAygMeXSk4ecaxquskdjM7W\r\nIm+grdXW6pNNPI2CCAzOBR6lIuxeoS2NtLSV/i/abNlDmHzu2gdLlrQkmigx\r\nsDv0kBFTQahjDezvcuBC4uHGsT8r/tCkhq4=\r\n=AFY+\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.8-dev-c786f7_1656261799139_0.34094839822628176"},"_hasShrinkwrap":false},"2.0.8-dev-9b46fb":{"version":"2.0.8-dev-9b46fb","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.2-dev-9b46fb"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context storage object. When your function finishes running, the context is cleared.\n\n![image](https://user-images.githubusercontent.com/11255103/137119151-6912d3f1-ab48-4c91-a426-76af8abc8c55.png)\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\nContext tries to mimic the behavior of Javascript scopes without actually being in the same scopes, and the API is built around context initialization, setting of values within the context and retrieving values.\n\n### createContext()\n\nContext's default export, it creates a context singleton object that can later be referenced.\n\n```js\n// ctx.js\nimport { createContext } from 'context';\n\nexport default createContext(); // { run: ƒ, bind: ƒ, use: ƒ, useX: ƒ }\n```\n\ncreateContext also accepts an initialization function that's run every time ctx.run is called. It allows intercepting the context initialization and adding custom logic, or default values.\nThe init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n```js\ncreateContext((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.8-dev-9b46fb","dist":{"shasum":"970a8f6ebf0bfaaa3e66460f5881d9cc519b95e1","integrity":"sha512-kQc+3g265Q62aIaQtP5SLK45uTZI/6/B314K4uZQskBKryL57ECMp6Ql3v4I2LXTzEKGHfTOdtJS+J3VnXEyfQ==","tarball":"https://registry.npmjs.org/context/-/context-2.0.8-dev-9b46fb.tgz","fileCount":21,"unpackedSize":20143,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCGOUSPozLAtKLPKgugLJ2VjNgHVMCGkak23wvpTkCcLgIgGhV6V4PObrvm/VCYMnYnzXZtyJiPUC0znNVcn0rH3JY="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi0pAEACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmo46w//faHlE4kmdMjZayL99bil9HXZO7rB7mMzKYbuTdkhuENq1IeS\r\na1lIgmvizLZvag/6jQR5x460EWRp9rWriFt8/HHJBpAt37NaBo16GJ3EdANG\r\nf5pk5A6AgXa7T2e6+eMIV8wiNLIzPyIbjtswb7/oHccgWOxJz0PQLW83fByA\r\n2sakfF6Ze/AqTVUfwn6YtLhSfcJBBd+WSQkWMnSMEkkkscMCH5zfrGxm7ffC\r\njEDyeJiZHje31Hn47ZNknSxIGkns17upEs6p2r80r2GnVdRN7av2zVk+yGX3\r\nLTZmyG5uVIi/1ImiSqouFaeOvJOsPv00ZjuOWS2asWB//JATX64iXNBYDZiP\r\nWBr88gZoKiacpC+bylKVkAgu60vIy6A4LDrlJlm1k+OaP4ReoOFhSu6qFNG6\r\nXxUm+GN8fUz58/i9LRTgpMP5yqnsW7JG9tB3z4dcSbhh8wzRCuj8PTjnw2Qw\r\npFb82qrnSmmftqgIXGVrURNxwV8Xyh1BZTs48WbEDm8eMdSQdG/q+kNQ4ko6\r\n8ORXl4EnO7dsWS94siU9AzbriMiKZZTX01pcU5GzlW7Bps2CtHwn1z5yy4C+\r\n1iVXFd3KxGjxjnH9TuWWdNuqNONBrJbLVSQZXveXJ4CGzzx1VQ3Gp1A2uAg9\r\nAlvpaQtmO0G4Tia2o777uVUxp/qMAEAL2LU=\r\n=Zr2K\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.8-dev-9b46fb_1657966596318_0.3502796459135358"},"_hasShrinkwrap":false},"2.0.8":{"version":"2.0.8","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.2"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.8","dist":{"shasum":"b7074c15e2a5a1c95230c58692c3719a04303b1d","integrity":"sha512-lWMrHYuF9i33m6NXEt/T2OIp/C7i/xncQubWtEtEmVfzhsOXerNXQYW4KRM8DcjAo0lNXeLNq7iAxrJuoz7UtA==","tarball":"https://registry.npmjs.org/context/-/context-2.0.8.tgz","fileCount":21,"unpackedSize":20121,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIHFg1Y41UeGRenz52Vm4sxRw2K1lfDix1mdlV5uVJ8IHAiEA3hvtI4mpMviHLG1aYHTTt8NW+CRH09EMLh88pu2RN3U="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi0zHaACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmoAeg/9FBOOvjMJtwIkAgpAebFrVsXN06mnAUbUxz1PAy1iVCLDC9GT\r\njt43jd2gHTxYQxhhCDo1f18lC+pbkYhmXBsiHdmsEV369wYzhdq0RxmoM69V\r\nHHo5rpkzJirWJE7TH15p06Ba4Zby2lZSOkrl1i9TO0GDcYykX9YU6yhfGEdE\r\nhQtn3lQCFzierWRIARJ1JhT8lxnR6Q2Rcj5fAGFjL7V9CO/QZpciuq+nqKrd\r\nwB5rr5Dn6UXOO4s6r2wdlMmRwiOgZUMgdLaIP5Kxu2h3+DYqxXdiwlKESTj4\r\nITf34dzI3Acno7jV+4BJwvv+w97NbrYSSn46KbC/OQIdWeCKsuHCy9Az2cp7\r\niaNgCLgCFuvXWjvifpSGubOgwFo//YSaPYuZ4EWygKF3/JKVDDi6Fpt/M+BG\r\neU+uYWx8OOLhewKSHxWJ9IQ6Evzi+X8Xf7GTtAGjIwn8vxpvrzvIs3qR1Hwh\r\n9yfl6UutE+dZcsE66wftPIF5B3jmUpFMIWkf5M9zlluq7890q9QE4mAGBruH\r\nYripmYpfcIqvgaIGkJOTIIisDE2UJIUXtj+1h8E+pdac7LQI1I+Zk1uidMPK\r\nRGsIMAnv5rnZUedt6m9NvCo1PenCDZ8jPLm0r0GS/kNMcGTc5gtRpvneIb3L\r\nWKOoSVSjn+2cBnqm+LCZFYQ9aXuxeGS8Rj4=\r\n=QX+G\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.8_1658008026270_0.43421002698259414"},"_hasShrinkwrap":false},"2.0.9":{"version":"2.0.9","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.2"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@2.0.9","dist":{"shasum":"fa728af7316704a2cf1730aa344eedddf9d5b0b5","integrity":"sha512-wNbcVQwcmfzy5z9RNWqsDeZ1YlidQczgTH9k7ZAJ9UnM/wRajtcXbt1GCkuSWd7rciiRzW4B7JaymeaOOI3TTg==","tarball":"https://registry.npmjs.org/context/-/context-2.0.9.tgz","fileCount":21,"unpackedSize":18225,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIF/XP1EkRCEi1pt71YcqBu7QZDsCyeYsiVxvnvTiXfa7AiB8WiSY4FccNmZSmex9xQ2ieBkM895gvP6N2iiXQq7I2w=="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi7SIAACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmp6eg//aboj++7fEaNfXbfnETapiYLyR6wNBeH9uJa/7Xp3wi369jo1\r\n3U+k5hVkJ3JA9Z5VOq1CmVhJRkyUX/zY0mJ2JOHw72iX/dReEZDrkYstcBFd\r\nPO9CaQfJRBtnmnrU4pdZtFphQ8LCVlFErFXLHzJ1P8ynNwLhCYR1/w1T1Zwo\r\nUszkLFiH7EvQMRkxB+ItBIBGyTKZavpnJmK5vivSyEOq7hs3QljwMKMTY546\r\nkXIMO3sHaxBdNT3yjwr237XjNoOXoWhFOiSJHQzet+luaoTgSRKjBxyAN/BG\r\n/Hve0Q5xXqyRPuVdEBDa2jmYbAezYyFo3tJydyeysjxaMihqxk+arbb+XmD+\r\nVWvp4qNVyiuxAn7iJ89MT4N2A9xR1LRTIexLo/yC+ykEXXfZrb8kwiMwb9Me\r\nfG5LHUhCBFYB3Qp0mVsiYSy4VyXDubUmx5fqXvhbYcnLb2FHVnkVKNhwsI52\r\n2ZCe/s3jy4rbXa8SlUCli0YsthAlZzdxan0YeHKZivF6pPCRVdsFiyar/xsK\r\nUN+mTIfth4yzLNnurnz74SHfb3T+u4G2JeowL8QiBuWZ7zIccRgzgudL19Cb\r\nfAXsNMysyVggG65PrYcH/wXceLradym4OZmLoZ26nIuPaKHTwAbMfedUz8Lj\r\nxCyqCMY4Hg0u96dD3KPkaYK7ckAv3BXKe/s=\r\n=Pfj5\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_2.0.9_1659707903909_0.11753771037502281"},"_hasShrinkwrap":false},"3.0.0-dev-040354":{"version":"3.0.0-dev-040354","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.2"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context's closure. When your function finishes running, the context is cleared.\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\n### Top Level Exports\n\nThe context package exports these two functions:\n\n- `createContext`: Creates a new context.\n- `createCascade`: Creates a new cascading context.\n\n## createContext()\n\nCreate context is the minimal implementation of context. It allows propagation of values down in your function call.\n\ncreateContext takes a single argument - defaultContextValue. This value is used when not withing a running context.\n\n### Arguments\n\n| Argument            | Type  | Optional? | Description                                                  |\n| ------------------- | ----- | --------- | ------------------------------------------------------------ |\n| defaultContextValue | `any` | Yes       | The default value to use when not withing a running context. |\n\n### Returned object\n\n`createContext` returns an object containing the following functions:\n\n- `use`: Returns the current context value, or the default value when not withing a running context.\n- `useX`: Returns the current context, throws an error if not within a running context or the context is undefined. `useX` will throw even if a default value is provided.\n- `run`: Runs the context, passing the given value into the context.\n\n**Note About Typescript Usage**\nFor convenience, `use` assumes we're alwyas inside a context. If you want to have runtime safety, you can use `useX` instead to make sure you're excplicitly using a defined context.\n\n### Usage Example\n\n```js\nconst context = createContext(0); // Create a context with a default value of 0.\n\nfunction myFunc() {\n  context.run(100, someOtherFunc); // Run the context with a value of 100.\n}\n\nfunction someOtherFunc() {\n  const number = context.use(); // Returns the value of the context.\n}\n```\n\n## createCascade()\n\n`createCascade` is a more advanced version of `createContext` that allows you to create cascading contexts. It assumes the value is always an object, and when nesting context layers, it merges their values together.\n\n`createCascade` does not take a default value, but an initializer function instead. This initializer is called on each `run` call, and it allows you to modify or augment the context value being passed down. The init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n### Arguments\n\n| Argument    | Type       | Optional? | Description                                                  |\n| ----------- | ---------- | --------- | ------------------------------------------------------------ |\n| initializer | `Function` | Yes       | The initializer function to use when creating a new context. |\n\nThe initializer function can either return the the next context object. If null is returned itself, the initializer will take no effect.\nThe initializer receives the context object, and the parent context object, if present.\n\n### Returned object\n\n`createCascade` returns an object containing the following functions:\n\n- `use`: Returns the current context value.\n- `useX`: Returns the current context, throws an error if not within a running context or the context is undefined.\n- `run`: Runs the context, passing the given value into the context. Merges the given value with the parent context if it exists, while not overriding the parent context.\n- `bind`: Binds a given function to the context. Allows for delayd execution of a function as if it was called within the context.\n\n### Usage Examples\n\n#### Initializer Function\n\n```js\ncreateCascade((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n#### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Typescript Support\n\nboth `createContext` and `createCascade` have full typescript support. To gain the full benefits of typescript within your context, it is best to annotate your context with its types:\n\n```ts\nconst someContext = createContext<number>(0);\n\nconst someCascadeContext = createCascade<{\n  username: string;\n  firstName: string;\n  middleName?: string;\n  lastName: string;\n  age: number;\n}>();\n```\n\nThis meakes sure that all the functions (`run`, `use`, `useX` and `bind`) will be aware of these types, and either accept them as inputs, or add them to the return value.\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.0.0-dev-040354","dist":{"shasum":"90a58c56feacd7d2c7b2356cfb5c5b337f461265","integrity":"sha512-ogvfM7kwqPTyhIWcRjibotQJwuOxEkXmw1uNihIUWvEOyOjbKLDadKGldXgP7mM+OSTGRojHmHvS3jGEME4PuA==","tarball":"https://registry.npmjs.org/context/-/context-3.0.0-dev-040354.tgz","fileCount":21,"unpackedSize":22326,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIBBs/VusC23YEEe/JedECtT3X36tO46eQ23COnsZ9SO3AiBW7/3eDrMorLcD5AoqpOS5QtN+DGcDkdIX65KiYbEsHQ=="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi8RHAACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmomrg//Z30IVnpnJ+s2h+DDsBJRfp+vLfxnMGOxOy1TJV/gqcsG/r0p\r\nNTOvnVzuorGKJbe/zFyvNevCedaGGA0Ic8OUMexiRiuyDvPRqSQsqBVyJoG/\r\nD+HdXoVZ+LQMnwfgfHjfBzRoCd+vwdFI2+KdHOgqiiYJO0DRcYD/LV4N2+jC\r\nyAetTrr6UzRP8vRxVJnM431X4nzd7gQAcbUbaxmvn8fuWv5tZ3ZpgbdUpl9B\r\n7wcBmOyh9Eujti0bpragZA3oL2c42HG1YmoskZgGsYns16hqt5JD+fIW8AJD\r\n1SWM+CslsK7d3dfwBvFWV1pC+rHnB2aG12sr+IzWzORxE7gnZTqmcTlrf5Z4\r\nnI/NcK++8+Gh1/VDg+9u+acrmJADs/ZUu2CwCYfqZgZysRdX37BVGZuaEIn+\r\n4ppWvp1Fb48g0ov5Q2D1Z3ihyVQMqTepM9RulJCHV615NhFdL024p40Xyxp+\r\nruX57YadVOyOE3VsyGDseGbTGN63xdtM9DxeKHRwrMqhZ6QkTG8ZkPuhpocY\r\nh5+1q0VpSks/8YL27jONtYeM2s42X8+XvYKUlAEJGWTd72eorH52+ij9fp26\r\nFp5qk6CxEaqhn0uCTQoRYiPYcJjxLzbwfuo/48mWOxu5vWVUjM927H2XcFfd\r\n8c0jYqHozJyRr5n4ORRvnZKcv5i5oi0P2x8=\r\n=8oWp\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.0.0-dev-040354_1659965887803_0.6531183877095088"},"_hasShrinkwrap":false},"3.0.0-dev-781e21":{"version":"3.0.0-dev-781e21","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.2"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context's closure. When your function finishes running, the context is cleared.\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\n### Top Level Exports\n\nThe context package exports these two functions:\n\n- `createContext`: Creates a new context.\n- `createCascade`: Creates a new cascading context.\n\n## createContext()\n\nCreate context is the minimal implementation of context. It allows propagation of values down in your function call.\n\ncreateContext takes a single argument - defaultContextValue. This value is used when not withing a running context.\n\n### Arguments\n\n| Argument            | Type  | Optional? | Description                                                  |\n| ------------------- | ----- | --------- | ------------------------------------------------------------ |\n| defaultContextValue | `any` | Yes       | The default value to use when not withing a running context. |\n\n### Returned object\n\n`createContext` returns an object containing the following functions:\n\n- `use`: Returns the current context value, or the default value when not withing a running context.\n- `useX`: Returns the current context, throws an error if not within a running context or the context is undefined. `useX` will throw even if a default value is provided.\n- `run`: Runs the context, passing the given value into the context.\n\n**Note About Typescript Usage**\nFor convenience, `use` assumes we're alwyas inside a context. If you want to have runtime safety, you can use `useX` instead to make sure you're excplicitly using a defined context.\n\n### Usage Example\n\n```js\nconst context = createContext(0); // Create a context with a default value of 0.\n\nfunction myFunc() {\n  context.run(100, someOtherFunc); // Run the context with a value of 100.\n}\n\nfunction someOtherFunc() {\n  const number = context.use(); // Returns the value of the context.\n}\n```\n\n## createCascade()\n\n`createCascade` is a more advanced version of `createContext` that allows you to create cascading contexts. It assumes the value is always an object, and when nesting context layers, it merges their values together.\n\n`createCascade` does not take a default value, but an initializer function instead. This initializer is called on each `run` call, and it allows you to modify or augment the context value being passed down. The init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n### Arguments\n\n| Argument    | Type       | Optional? | Description                                                  |\n| ----------- | ---------- | --------- | ------------------------------------------------------------ |\n| initializer | `Function` | Yes       | The initializer function to use when creating a new context. |\n\nThe initializer function can either return the the next context object. If null is returned itself, the initializer will take no effect.\nThe initializer receives the context object, and the parent context object, if present.\n\n### Returned object\n\n`createCascade` returns an object containing the following functions:\n\n- `use`: Returns the current context value.\n- `useX`: Returns the current context, throws an error if not within a running context.\n- `run`: Runs the context, passing the given value into the context. Merges the given value with the parent context if it exists, while not overriding the parent context.\n- `bind`: Binds a given function to the context. Allows for delayd execution of a function as if it was called within the context.\n\n### Usage Examples\n\n#### Initializer Function\n\n```js\ncreateCascade((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n#### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Typescript Support\n\nboth `createContext` and `createCascade` have full typescript support. To gain the full benefits of typescript within your context, it is best to annotate your context with its types:\n\n```ts\nconst someContext = createContext<number>(0);\n\nconst someCascadeContext = createCascade<{\n  username: string;\n  firstName: string;\n  middleName?: string;\n  lastName: string;\n  age: number;\n}>();\n```\n\nThis meakes sure that all the functions (`run`, `use`, `useX` and `bind`) will be aware of these types, and either accept them as inputs, or add them to the return value.\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.0.0-dev-781e21","dist":{"shasum":"546bacfef506bca12fed5bf3f9f024ae7625b54e","integrity":"sha512-GFlJF51gGcfQ1PhTAgZEJcwSm6QKfzS2+mHR5dq2QaA95AYtdgbTdFvb1hAboRTI9foB2VRt8tL/S1khcBm51A==","tarball":"https://registry.npmjs.org/context/-/context-3.0.0-dev-781e21.tgz","fileCount":21,"unpackedSize":22883,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCrhZKs29gOuB8hlCbZ/89ICuAJyBvdCk/w1aomWp1z+wIhAMcno2JX06QHQQqbeZkb+uHUVY4g211Uz/luvGQi2e7Q"}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi8R+OACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmo2XQ/9EGIxqfIPJNLkDjfqyhSnwAXp4eWqjmHmnS6xgbb9RNcTIJuf\r\nM4EJg0mU9Bkl+9YCg9OSUfnb2hdrvOCOHa9Lneq5X4TF5cVNCyM3tfxQGFcA\r\njC3OdsRvEbNcEIOXOetapizcfvi34WG7QZZyhVeNTg5P5vJHWvUy3C/O97/Z\r\nexUnr31degYZl/yTiH2xiM08/1Azb895l8a665wCP1Md9sD4qLUCG9uY1LxW\r\nWZ+1O6DQfD5rZC4zhVa4Gv/sqh2rtUu4h8tPZ5OqVgMGRGruQrS4SAdUVPnl\r\noKfykN/yXZxUijnUk9kYx6n5tP51PlVYvtmzHQyO4NN8zvSx2GoxMILVsKV0\r\nLbdWJlh7AOi5YD/eIOunaLNRCPl1iOfjiYjem2u6qgLkzjj6K7ALY/tLcymb\r\n4/QfZTiCMxVVPUTFEA0oxHgojsPKP9tYvbhAcnZNebZituV/1KM88q+95sKD\r\nzmOKI1G08sjiJH5AjdsjZKOO7PP7Vhk93SLnSKRfDWYZ9gJLOPcc2I22kBh+\r\nsVtX0/HJJOCZTTFSGwVX5vx7blLAeYgiOQkX1QE6+iCFSJpq2r1scPV03TC+\r\ncwZKoUVqPDe7yvRPpuPmtn6g6en1EQW9UqYKSTZCHfldXAW6NS+P4nAxm+sP\r\n1vaJAPcR9g2H+Yz8Iq0D40y2ammx/cedcc8=\r\n=uznl\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.0.0-dev-781e21_1659969422164_0.7580519487905413"},"_hasShrinkwrap":false},"3.0.0":{"version":"3.0.0","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.2"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.0.0","dist":{"shasum":"7febfc89c1e3f2e5668e9a17354018d64189df85","integrity":"sha512-D7WjACAb6LAoi1KWL+pg9lFPJ5jsaPBMVO8pk2nnMp676aBj2r1wQ/p7SvTzrlCpOHWH7UzePK252MkXD5rjhg==","tarball":"https://registry.npmjs.org/context/-/context-3.0.0.tgz","fileCount":21,"unpackedSize":22872,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCxvwZl8hYsCk/tXG2hL572O6w8KQE5kwRbj2prFYS/egIgQnXCTzVwkQAvIg07NffCBQIdVTE9RwEPMMRUI/pjliM="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi8SCvACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmrxTQ/+M4Cj9ph/TDNiUYkW9O/GsUAFQVLG7T9TlrssKfQ22Qccv3Mf\r\nywIlKZoGntRVSmEXV3qejXGX6wcw1FwgTxbyUfERkGU+p56/elCdP/C8G3A5\r\neO2znAprlBMIr0WrSamAu0yjhw2Q5vBMQx3+nhPQlosACIQdBDi1T/YV4f/i\r\nb+bx3XPM5NFGpVNPs0pmZSuReYzT9XfN1Ap4DShcY5jFeVBUSnMKI/V5llL1\r\np44qeZJVrF2m+eouG3W3b9g/kGbTshlpDkjIA3+gKflZXbln2O1ULzaJyI0g\r\n18z2oEd6usm/QLip3LtDTUxTOv+RzVZKZ6eQodhKVhLwLodczjj4JU6xqoOS\r\n5hVw9N2OJx19vLKulmregpZiZwPpx9x4qm4fRgdjrgiQIHC1UJklcr9zrTQM\r\ntMWqvU8WdoX8QVbvgZsoNkdDWevzdQKJ0QtKSkwkKfK3YPKIcslobLYuuHMr\r\nUD9XPUstuVchpAD6p9KvxOw3hjutduWqC7gDtGIaz1Eob/fU58AeDHs0w9X9\r\nEm95OubShculX3dd+GhflFeEXthlEQYLO+Ir0ze3Fi69Yhme/14et4ixBeVZ\r\nC4FDHCAyhecZ1R4svG1XeWrtQ3G4OOuKd1RRAFUwNKoB93JkPCOCtklde2rF\r\nRE5pNIgn3FWWB/NUAQ1D1sLtNpTnj10etoU=\r\n=Nl0W\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.0.0_1659969711478_0.4101919445485427"},"_hasShrinkwrap":false},"3.0.1":{"version":"3.0.1","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.2"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.0.1","dist":{"shasum":"e11075de2cf3d150317c6266d2bc9a0eaad09059","integrity":"sha512-ZfQuo26hLk5W0ndyuw6i7YB9qyP1N6afUHybH/j8dHrvoZU2pxzdNLm5JvhiX40kwkoO7Zeg1HYW/w5MYEXc3Q==","tarball":"https://registry.npmjs.org/context/-/context-3.0.1.tgz","fileCount":21,"unpackedSize":22872,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIAvD2JoVcRoquguQ4cyJpPOuTvPBVdm7weyBLNn+LjC5AiASSTp6NVgWmNkXcZ81G22vzBzMCuTHpXkIe2hegEvfKg=="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi8TarACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpUEA/5AerlC7UQqT3sO0znoQAs4v3eF120fyoeLxgr81Cx41BFQxt4\r\nQuUQRUQ06z5qs1pKltpcR0WLcFa8hAMGBfmJoSLHoo+/Io1BR0pLqzvNFpZA\r\nNKxw9XzMIjlFGGmNr0Yb6Skes5f/tB3fg213cT+QURcPBZgo8QwAs+TddGc3\r\nhas5LNuDI3XCLNeCxesPq4AH2jJClwyme34TK9izVzlbZSn27/m+TR99eNdw\r\nAQACHWpaLZjK7Sv95Gfgz0LaptJbSw/qo6djgv/uyHOh7hRD8dTlrrNouhR7\r\nOp65h6wb6wDDCeaUaTOYHW+q/g+6y5uADdTw3c4p4yNZvogdmhMrG8A6d2bB\r\n7uedoDao4XgXHaliuMnpr5qv8z/l1Gr1JlRuCBYG536GVTyb6c3C3lwbFKwg\r\njF6sOA+B3HGnEJ5CrgJCRl/R0lN8c7a6Y1yeGQwP+n0gkz2Yaaq92KYTL8uX\r\n89hFM1elZrh8mplebSeSncLLtJITQinN1R6cob6tRSA/u6ZUYwvxuvktdCij\r\n5VlZt4ROvHvfrm+4CkZn5+nJTsebDytkORH+a8tlXewBwdyQz2LHBH7caIRm\r\n5ku1KufVte3v8Dav/nrwCcjmSpy8Qeerlmu2rN4SI4YLW/jzOYc4uVzZU/Q/\r\nuvMqtL8dLWZmbG2qN4i1sCdUTjidxCiv1tw=\r\n=bkqX\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.0.1_1659975339335_0.613978081010913"},"_hasShrinkwrap":false},"3.0.2-dev-fcaa09":{"version":"3.0.2-dev-fcaa09","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.3-dev-fcaa09"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context's closure. When your function finishes running, the context is cleared.\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\n### Top Level Exports\n\nThe context package exports these two functions:\n\n- `createContext`: Creates a new context.\n- `createCascade`: Creates a new cascading context.\n\n## createContext()\n\nCreate context is the minimal implementation of context. It allows propagation of values down in your function call.\n\ncreateContext takes a single argument - defaultContextValue. This value is used when not withing a running context.\n\n### Arguments\n\n| Argument            | Type  | Optional? | Description                                                  |\n| ------------------- | ----- | --------- | ------------------------------------------------------------ |\n| defaultContextValue | `any` | Yes       | The default value to use when not withing a running context. |\n\n### Returned object\n\n`createContext` returns an object containing the following functions:\n\n- `use`: Returns the current context value, or the default value when not withing a running context.\n- `useX`: Returns the current context, throws an error if not within a running context or the context is undefined. `useX` will throw even if a default value is provided.\n- `run`: Runs the context, passing the given value into the context.\n\n**Note About Typescript Usage**\nFor convenience, `use` assumes we're alwyas inside a context. If you want to have runtime safety, you can use `useX` instead to make sure you're excplicitly using a defined context.\n\n### Usage Example\n\n```js\nconst context = createContext(0); // Create a context with a default value of 0.\n\nfunction myFunc() {\n  context.run(100, someOtherFunc); // Run the context with a value of 100.\n}\n\nfunction someOtherFunc() {\n  const number = context.use(); // Returns the value of the context.\n}\n```\n\n## createCascade()\n\n`createCascade` is a more advanced version of `createContext` that allows you to create cascading contexts. It assumes the value is always an object, and when nesting context layers, it merges their values together.\n\n`createCascade` does not take a default value, but an initializer function instead. This initializer is called on each `run` call, and it allows you to modify or augment the context value being passed down. The init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n### Arguments\n\n| Argument    | Type       | Optional? | Description                                                  |\n| ----------- | ---------- | --------- | ------------------------------------------------------------ |\n| initializer | `Function` | Yes       | The initializer function to use when creating a new context. |\n\nThe initializer function can either return the the next context object. If null is returned itself, the initializer will take no effect.\nThe initializer receives the context object, and the parent context object, if present.\n\n### Returned object\n\n`createCascade` returns an object containing the following functions:\n\n- `use`: Returns the current context value.\n- `useX`: Returns the current context, throws an error if not within a running context.\n- `run`: Runs the context, passing the given value into the context. Merges the given value with the parent context if it exists, while not overriding the parent context.\n- `bind`: Binds a given function to the context. Allows for delayd execution of a function as if it was called within the context.\n\n### Usage Examples\n\n#### Initializer Function\n\n```js\ncreateCascade((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n#### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Typescript Support\n\nboth `createContext` and `createCascade` have full typescript support. To gain the full benefits of typescript within your context, it is best to annotate your context with its types:\n\n```ts\nconst someContext = createContext<number>(0);\n\nconst someCascadeContext = createCascade<{\n  username: string;\n  firstName: string;\n  middleName?: string;\n  lastName: string;\n  age: number;\n}>();\n```\n\nThis meakes sure that all the functions (`run`, `use`, `useX` and `bind`) will be aware of these types, and either accept them as inputs, or add them to the return value.\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.0.2-dev-fcaa09","dist":{"shasum":"8e4ee9bec460e8c6a57d6d3e7b63aae765b9842f","integrity":"sha512-kQTy70LwkCUJF3ZgOQ/T6JenKVl+KjePXU7zgBLwTQqOENxJf6lh9CEZXhVYUUzwNAXCdXuiNLB6VBvJq7tmOw==","tarball":"https://registry.npmjs.org/context/-/context-3.0.2-dev-fcaa09.tgz","fileCount":22,"unpackedSize":24019,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCID1q69qJVH+Rn/p5MRBN8Xs4csKyeF+j+UhZLvErv0KOAiBNFY2mVaQ3jfhDYbMhPbqIIDbYAJHGEehSwqay7VR8IA=="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi9EieACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmrK+w//T/fxo3xq0MNS1zN7f+RNAbEQvucDd4iufv2IVEtjkti5rdXf\r\nCAK8cPaIdce4xfcJF1kd+T8WOjQEfqybkwr4b4b4lnVh4kAWLtJw2OOcnmM8\r\nkxUquJgJHKUaul5N584/FOWXtkjF/wiVxv591vn+9AArfDZZOJ6/Ey7lCRcF\r\nFtmKtOIjiiVNX++dedbUvJn/TYdISEqsafqT3faXIYmDm2ni+lT9u4VWlRSJ\r\nJoJRUZFBMz6qdIfnTV7I6+GMdflrnNxGuiSDtVBHnMjiPw9XC1eJF124OMi8\r\nJE1mZwnkaRYTZgnoPh/Miml8bz2RcwjSEaMUM5f+nVBN2L7H6F0F06D0BZk1\r\np8BHCLZxyQJyhzxfNQsbW1+81kD6KOYPMvbORmQ8nuGhUEYCuE7IJM5dHnna\r\n8D2+iHmP2tgddMf0ZcdONxgIc3GxngOLhGrufy+i0t1nOd+yP/9AUirOQ6CV\r\nuqogHiDm3eU0jl/DBHfgICGDnUMcoOFBxtr52zaygs1lGJtNuY/mO0IHRIbD\r\n2JUIWtp7kIzpkRPYMmeuAwM8dtBgmb+L6E4Kckof0s+pAcA8JNGz24AwPXEs\r\n3xPOAIh06nlrdbukglSWdhQ8MwmC/x4K59jZ3Rz1sXeUenjY9cI/r+ELxZci\r\n4sNbZoNNCRCAst5Ml5Bx2g3fR3ccfqyZw9w=\r\n=2Xhr\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.0.2-dev-fcaa09_1660176541783_0.06186715981631119"},"_hasShrinkwrap":false},"3.1.0-dev-f30a30":{"version":"3.1.0-dev-f30a30","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.1.0-dev-f30a30"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context's closure. When your function finishes running, the context is cleared.\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\n### Top Level Exports\n\nThe context package exports these two functions:\n\n- `createContext`: Creates a new context.\n- `createCascade`: Creates a new cascading context.\n\n## createContext()\n\nCreate context is the minimal implementation of context. It allows propagation of values down in your function call.\n\ncreateContext takes a single argument - defaultContextValue. This value is used when not withing a running context.\n\n### Arguments\n\n| Argument            | Type  | Optional? | Description                                                  |\n| ------------------- | ----- | --------- | ------------------------------------------------------------ |\n| defaultContextValue | `any` | Yes       | The default value to use when not withing a running context. |\n\n### Returned object\n\n`createContext` returns an object containing the following functions:\n\n- `use`: Returns the current context value, or the default value when not withing a running context.\n- `useX`: Returns the current context, throws an error if not within a running context or the context is undefined. `useX` will throw even if a default value is provided.\n- `run`: Runs the context, passing the given value into the context.\n\n**Note About Typescript Usage**\nFor convenience, `use` assumes we're alwyas inside a context. If you want to have runtime safety, you can use `useX` instead to make sure you're excplicitly using a defined context.\n\n### Usage Example\n\n```js\nconst context = createContext(0); // Create a context with a default value of 0.\n\nfunction myFunc() {\n  context.run(100, someOtherFunc); // Run the context with a value of 100.\n}\n\nfunction someOtherFunc() {\n  const number = context.use(); // Returns the value of the context.\n}\n```\n\n## createCascade()\n\n`createCascade` is a more advanced version of `createContext` that allows you to create cascading contexts. It assumes the value is always an object, and when nesting context layers, it merges their values together.\n\n`createCascade` does not take a default value, but an initializer function instead. This initializer is called on each `run` call, and it allows you to modify or augment the context value being passed down. The init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n### Arguments\n\n| Argument    | Type       | Optional? | Description                                                  |\n| ----------- | ---------- | --------- | ------------------------------------------------------------ |\n| initializer | `Function` | Yes       | The initializer function to use when creating a new context. |\n\nThe initializer function can either return the the next context object. If null is returned itself, the initializer will take no effect.\nThe initializer receives the context object, and the parent context object, if present.\n\n### Returned object\n\n`createCascade` returns an object containing the following functions:\n\n- `use`: Returns the current context value.\n- `useX`: Returns the current context, throws an error if not within a running context.\n- `run`: Runs the context, passing the given value into the context. Merges the given value with the parent context if it exists, while not overriding the parent context.\n- `bind`: Binds a given function to the context. Allows for delayd execution of a function as if it was called within the context.\n\n### Usage Examples\n\n#### Initializer Function\n\n```js\ncreateCascade((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n#### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Typescript Support\n\nboth `createContext` and `createCascade` have full typescript support. To gain the full benefits of typescript within your context, it is best to annotate your context with its types:\n\n```ts\nconst someContext = createContext<number>(0);\n\nconst someCascadeContext = createCascade<{\n  username: string;\n  firstName: string;\n  middleName?: string;\n  lastName: string;\n  age: number;\n}>();\n```\n\nThis meakes sure that all the functions (`run`, `use`, `useX` and `bind`) will be aware of these types, and either accept them as inputs, or add them to the return value.\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.1.0-dev-f30a30","dist":{"shasum":"119d5ef88da7f552e3193a0b07ba013f38c1bffa","integrity":"sha512-xI7LuBJ3vaC02X6LMvZQLRUv7WZtWo0GAWugLXBslmSgMRHMTmP+li/1i8a6/uQkYmNr2OjshLRuK587JWGAwA==","tarball":"https://registry.npmjs.org/context/-/context-3.1.0-dev-f30a30.tgz","fileCount":22,"unpackedSize":24097,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDgo1vvvMrdvb1Rnyfo7hGFMrmvN2W9IXjYeEJB69m2jgIhAJuAjx9rwD9cFnzaBr7FVdlxyyFg8pTYBlp8uRNWMOHH"}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi9OKaACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmp9Yg/+ItuJvF9gNLNLL8OfHImb5kv84TZCpvqYi824pEGXxUQxIJyp\r\nDG4CbEVczFjdsYfYgAvyqTQfvOaI/ax17MZJPVUreV9/GCdrjl9pwTnkKbYF\r\nfZP6aT3vFXqFrOBOcg0jD7mLHRuJfB4obOZ9wIDAFu69HSKg59V4s9fSkJOs\r\nwjebnY7NoTKptrCD/EyGXriVe8fIcvJ4OJqd/JOjgu8zw8XoZcn0IYdFsdeB\r\n76kLlM73e8hNJqHZDMSkRmzAYEVzCi21N/KAmdZudZaNhwv43voDNz56Ld6r\r\nWMP81hDq+I8XOF1tIqr2+MEkKuMe+SWz5dzXuXt/TRLzh8WNRe48vBimaGbp\r\n+2Rdhm2wrKHYE5Mn4q1xd2JRFqp2rovk5zJzBZpX1pF1xxa8DQvFVmwuJk/l\r\n0dEUVii837mhfheO+F0A/QxY7v8QrJU+5RCse/iSNZy22z01nnz8Z6y5pl8J\r\nhWmoGaX/gYZM/EVYE7rJg84gYYp0sJ5wQuRFIol5btFFVmegvqStBlET4vox\r\n+ZDJbeRgjL2BtEBVznVD6cTQRLScES+WI1V/u6vChoUBcvSYFH/SXXxpo5Dz\r\nIwoGZInHCrtuB+4MCuyl1xQNiQ8peBYSu0Efi2i1/44sXVaTFlYBldz75S8F\r\nJJc0Fx/DMu9dMvT+OYVA5vuUp/E55+f/+wk=\r\n=jDRg\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.1.0-dev-f30a30_1660215962528_0.15437850698585032"},"_hasShrinkwrap":false},"3.1.0-dev-c4ba9b":{"version":"3.1.0-dev-c4ba9b","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.1.0-dev-c4ba9b"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","readmeFilename":"README.md","readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context's closure. When your function finishes running, the context is cleared.\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\n### Top Level Exports\n\nThe context package exports these two functions:\n\n- `createContext`: Creates a new context.\n- `createCascade`: Creates a new cascading context.\n\n## createContext()\n\nCreate context is the minimal implementation of context. It allows propagation of values down in your function call.\n\ncreateContext takes a single argument - defaultContextValue. This value is used when not withing a running context.\n\n### Arguments\n\n| Argument            | Type  | Optional? | Description                                                  |\n| ------------------- | ----- | --------- | ------------------------------------------------------------ |\n| defaultContextValue | `any` | Yes       | The default value to use when not withing a running context. |\n\n### Returned object\n\n`createContext` returns an object containing the following functions:\n\n- `use`: Returns the current context value, or the default value when not withing a running context.\n- `useX`: Returns the current context, throws an error if not within a running context or the context is undefined. `useX` will throw even if a default value is provided.\n- `run`: Runs the context, passing the given value into the context.\n\n**Note About Typescript Usage**\nFor convenience, `use` assumes we're alwyas inside a context. If you want to have runtime safety, you can use `useX` instead to make sure you're excplicitly using a defined context.\n\n### Usage Example\n\n```js\nconst context = createContext(0); // Create a context with a default value of 0.\n\nfunction myFunc() {\n  context.run(100, someOtherFunc); // Run the context with a value of 100.\n}\n\nfunction someOtherFunc() {\n  const number = context.use(); // Returns the value of the context.\n}\n```\n\n## createCascade()\n\n`createCascade` is a more advanced version of `createContext` that allows you to create cascading contexts. It assumes the value is always an object, and when nesting context layers, it merges their values together.\n\n`createCascade` does not take a default value, but an initializer function instead. This initializer is called on each `run` call, and it allows you to modify or augment the context value being passed down. The init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n### Arguments\n\n| Argument    | Type       | Optional? | Description                                                  |\n| ----------- | ---------- | --------- | ------------------------------------------------------------ |\n| initializer | `Function` | Yes       | The initializer function to use when creating a new context. |\n\nThe initializer function can either return the the next context object. If null is returned itself, the initializer will take no effect.\nThe initializer receives the context object, and the parent context object, if present.\n\n### Returned object\n\n`createCascade` returns an object containing the following functions:\n\n- `use`: Returns the current context value.\n- `useX`: Returns the current context, throws an error if not within a running context.\n- `run`: Runs the context, passing the given value into the context. Merges the given value with the parent context if it exists, while not overriding the parent context.\n- `bind`: Binds a given function to the context. Allows for delayd execution of a function as if it was called within the context.\n\n### Usage Examples\n\n#### Initializer Function\n\n```js\ncreateCascade((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n#### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Typescript Support\n\nboth `createContext` and `createCascade` have full typescript support. To gain the full benefits of typescript within your context, it is best to annotate your context with its types:\n\n```ts\nconst someContext = createContext<number>(0);\n\nconst someCascadeContext = createCascade<{\n  username: string;\n  firstName: string;\n  middleName?: string;\n  lastName: string;\n  age: number;\n}>();\n```\n\nThis meakes sure that all the functions (`run`, `use`, `useX` and `bind`) will be aware of these types, and either accept them as inputs, or add them to the return value.\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.1.0-dev-c4ba9b","dist":{"shasum":"e161fbbefa2a33f2a4c51adf768926e93472ccaf","integrity":"sha512-R84gTNGnxD+PCbTX/VpPXVZfoIK0MYfjHCHlBqwiF8fW1tKuRPlKGCKo9oUF+aCsR41JGRHyiv8ZIhwinBbTCg==","tarball":"https://registry.npmjs.org/context/-/context-3.1.0-dev-c4ba9b.tgz","fileCount":22,"unpackedSize":24097,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDrjlhvaTqmeYGl866D2GJeZyqGNalOhGnmWlByZ/bq4wIgE1bFNezXnKoQ0XlIkNmfEQhGA8wipsfBoUYBwIkur3Q="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi9OeYACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmqAAg//dMjP39v+ajVUvYG9OLbyGsCQOCtd/WOtVMvbgwXDSKMOQlB4\r\nf0Rzi3r/1EW/mmLbSnPosWPIFsQMqm+gcpMzTQU7sCchtXiOGN3iuObE/Pkq\r\nPR1+8tLBSeciaiBoNxVUEY3d+N+ZXlFd+a6si0o8GGClScw5fF06y+n23KUY\r\nfQaeGL+NoK/60c2w8/TofxcpfuvP0UycomamvqY+nn9On5kikyFlQyi7Phq/\r\nReFI5uM/f4uMUt3835TpFagoHlzd3aPoMj4PA9yerWQLa4f2d0A7asLqwIlA\r\nw5X1ZudyapWM2fFWECdKXwQzInlF48ebuWZk+Psh1JAABuEMNqlka9AyyjmC\r\nDKFh92Gz4vlnKd91NkCSzBVED2JajVBEBOZmAtzfB5VTnGZ5RhhwkSAkRY7w\r\nSEBOF68fn3+wtUyzNHlL69sryl5x9rt1FoeCm6BqJE1v8bnREYuRv2rpKVcf\r\nWndHbfROW7QN1dwwwlm5alehliN5M4TBlgnGbWrMRCp0dGhpGYh+yYfxm2fv\r\n5aK7wcxnkUq+ouCx1fMShQzEWJTP45PDOAO1+1WzsrkfpGeaf5aTTM6Y9JaG\r\nB3yMPOc5vRtgx9a27YUguwhzN05jiuV1H0iqGowUf9sKkzBm3e0ykH4yOgph\r\nXvGGMjo5AIgFAF4D3NJPxM5G7mCrOjq0odk=\r\n=Mz3E\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.1.0-dev-c4ba9b_1660217239819_0.8687815505330354"},"_hasShrinkwrap":false},"3.0.2":{"version":"3.0.2","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.3"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.0.2","dist":{"shasum":"f6ee8b23e822ce5791be7fa2a73d957f09e32073","integrity":"sha512-BmhSFW5EUXm0kQdgjr1qPfHHfllSwM07qO1fIy6ueZYvRYe7w8quJF/zIiKoB6pB3AmLhlbcFYebH1MJgPIEIg==","tarball":"https://registry.npmjs.org/context/-/context-3.0.2.tgz","fileCount":22,"unpackedSize":24075,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIHNKCtb5FedEQBhPmmq5hHSfyPEbc+4tTEt467oS8H/VAiEAjtbZKEhLudrNlDYJYbRW+LT/kyJMD05CzhhlqPE167k="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi9PViACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2Vmrr7g/+Lba+qVLrBj1GbrxJnO6sR01GIPpmVH5OnSADOk+PaAtPvexc\r\nq5j7iROyYEXtHH76hiXD1rqBRGD+1Yd8Ky/n/zNGsJJApeEg3jZr42IVIvIW\r\ns9oAVukpr9BQr1rfLBBMpvmFEXvUS/NKFXGBG12QRlwweXjS3b9r3mE3GnVy\r\nkbC8feoA/RQMqnm3Gr/ciTWk+iY9Mj7iJ/ZdK9RXRzMSDjL4OMTQWIVquoqc\r\nWHicCyq/u/1Nah0yEGMetWk2kJdXuLBvmgMBsd/V0yfFFCvofPuyvYGOJlw3\r\nk3GD+f+UB1N9LJbytrOgtFHHRZEloh4mPTn0iQGIgwZycOSAvcSTUfwN1piK\r\n3XNzHLDeSOSheON9bE9DrOYBT8PKJofpPgdEEbd39l0r0xbxzipsZUxus+Lt\r\noG7cHEj6wMEZb7EmDFUNAPqukmxuW85MtUGMnArqmtKRp1Sy0Cs6JlnGdyAW\r\nYLpeyF4sbSWJFuFQjjgkOQkFtkJRd4XMvUcPeETQ9i7Pfqg6BHcaY/vt1Qrd\r\n3ZWCiz0C9I163jTNtUU/YZ1L4w9XTOxi6+lcMNHqxJsqtmq9QjweuKTUhU4b\r\njkLE3frsOioVAytYPA0wsvN95GZgeQN9p53U0Jy4AGb+hkpa3qBmyAeDLage\r\n99kLAuh5uSjFlhE1cst6BwrgJd2A56D+TOI=\r\n=oszU\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.0.2_1660220770527_0.8637546484663727"},"_hasShrinkwrap":false},"3.0.3":{"version":"3.0.3","license":"MIT","main":"./dist/cjs/context.js","types":"./types/context.d.ts","name":"context","author":{"name":"ealush"},"scripts":{"test":"vx test","build":"vx build","release":"vx release"},"dependencies":{"vest-utils":"^0.0.3"},"module":"./dist/es/context.production.js","exports":{".":{"development":{"types":"./types/context.d.ts","browser":"./dist/es/context.development.js","umd":"./dist/umd/context.development.js","import":"./dist/es/context.development.js","require":"./dist/cjs/context.development.js","node":"./dist/cjs/context.development.js","module":"./dist/es/context.development.js","default":"./dist/cjs/context.development.js"},"types":"./types/context.d.ts","browser":"./dist/es/context.production.js","umd":"./dist/umd/context.production.js","import":"./dist/es/context.production.js","require":"./dist/cjs/context.production.js","node":"./dist/cjs/context.production.js","module":"./dist/es/context.production.js","default":"./dist/cjs/context.production.js"},"./package.json":"./package.json","./":"./"},"repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"},"unpkg":"./dist/umd/context.production.js","jsdelivr":"./dist/umd/context.production.js","description":"Simple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react. It allows you to keep reference for share","licenseText":"MIT License\n\nCopyright (c) 2020 ealush\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","_id":"context@3.0.3","dist":{"shasum":"680ba79c48a6e9022f1caa836cfea8e83e496b5f","integrity":"sha512-WaEzlam0BbMZbQJNsg9Khx/St36wlY3LJed9+6vNBXLv88+/DmQYxo9ptMgFq8DwD9tYHRAET8T+LLUMWvBtOQ==","tarball":"https://registry.npmjs.org/context/-/context-3.0.3.tgz","fileCount":22,"unpackedSize":24075,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCrTZxO/Zg4nUTDUhL5t40cvmKj7m4aiK1NaXY0rjS7fwIgKW2KH+7ydGmL+1rKuEk0PM3NaTJd7PWhau8vLNjz3DY="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJi+WUcACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmqptBAAgBHdn1uYKYgMSc0zOCypIYPtVrf3Pu6jLRzYKZjoQUPvu8q/\r\nC2xdacWmWGz9Tt+xi777YFyZGf1Jn6zzRroqqoKdUr5xNIWPZ6z3Dz+/ZgWz\r\nfm11m1TH1Edeaed6FDeZcyfyKXNg7104GzC0bxzaI4umtCQF41RSQo8xR+86\r\nN8QVP+ahnFMylwqtcnNIR1AxaP2YQ7LWVb6InJHDfVXN4gU0D8MAZw+FWFTb\r\nUDKmvZRvr9D5+Jj4B+54/4Yn0NbosdicaLQLRkcxak1E20b5QOaPKEjFRvtq\r\nlnzc+dmnoICU9JjVQmEJQsdKPEzQTJz96CmBPP40U0RnAfJK8POajEN3e8Vu\r\n68YVZ0WRAu1+syOqv+t7Nf5zt5Z2KUOUt+377P3K34KwUv4xkddNUiFSizRW\r\nEVJxm/xXlRKihelVFTPjPBZrPMLywoZyitpR9UCb5YrFQ9DbmG7lChLz2PEh\r\ntrf9GSCIZ1zFRHJvaFGP0A/8fbVX1OgLkKJ3nsu6edEDPPb8p6MlrnXf+6N8\r\nQRxIYq/fWX/tqkl0dqPJh9jhozup+mXUrJO92DMWuL8IR7p4A2eZpn0HMXB9\r\nGGacquh+0ubj07BjWGg8FGHhBLoqKfIDe4YEQHxPL6NlEspvCXzuI53OdSpu\r\n5G7Vl5KMJfPX1h3t3mGbQ9HcmkrtZNWV3TI=\r\n=mYwc\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ealush","email":"code@ealush.com"},"directories":{},"maintainers":[{"name":"ealush","email":"code@ealush.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/context_3.0.3_1660511516644_0.47634644736476384"},"_hasShrinkwrap":false}},"readme":"# Context\n\nSimple utility for context propagation within Javascript applications and libraries. Loosely based on the ideas behind React's context, allows you to achieve the same goals (and more) without actually using react.\nIt allows you to keep reference for shared variables, and access them down in your function call even if not declared in the same scope.\n\n## How Context Works?\n\nThe way context works is quite simple. Creating a context initializes a closure with a context storage object. When you run your context call, it takes your values, and places them in the context's closure. When your function finishes running, the context is cleared.\n\nThe reason the context is cleared after its run is so that items can't override one another. Assume you have two running the same async function twice, and it writes to the context, expecting to read the value somewhere down the line. Now you have two competing consumers of this single resource, and one eventually get the wrong value since they both read from and write to the same place.\n\n## API Reference\n\n### Top Level Exports\n\nThe context package exports these two functions:\n\n- `createContext`: Creates a new context.\n- `createCascade`: Creates a new cascading context.\n\n## createContext()\n\nCreate context is the minimal implementation of context. It allows propagation of values down in your function call.\n\ncreateContext takes a single argument - defaultContextValue. This value is used when not withing a running context.\n\n### Arguments\n\n| Argument            | Type  | Optional? | Description                                                  |\n| ------------------- | ----- | --------- | ------------------------------------------------------------ |\n| defaultContextValue | `any` | Yes       | The default value to use when not withing a running context. |\n\n### Returned object\n\n`createContext` returns an object containing the following functions:\n\n- `use`: Returns the current context value, or the default value when not withing a running context.\n- `useX`: Returns the current context, throws an error if not within a running context or the context is undefined. `useX` will throw even if a default value is provided.\n- `run`: Runs the context, passing the given value into the context.\n\n**Note About Typescript Usage**\nFor convenience, `use` assumes we're alwyas inside a context. If you want to have runtime safety, you can use `useX` instead to make sure you're excplicitly using a defined context.\n\n### Usage Example\n\n```js\nconst context = createContext(0); // Create a context with a default value of 0.\n\nfunction myFunc() {\n  context.run(100, someOtherFunc); // Run the context with a value of 100.\n}\n\nfunction someOtherFunc() {\n  const number = context.use(); // Returns the value of the context.\n}\n```\n\n## createCascade()\n\n`createCascade` is a more advanced version of `createContext` that allows you to create cascading contexts. It assumes the value is always an object, and when nesting context layers, it merges their values together.\n\n`createCascade` does not take a default value, but an initializer function instead. This initializer is called on each `run` call, and it allows you to modify or augment the context value being passed down. The init function is passed the context object run was called with, and the parent context if it was called within a previously created context. The init function needs to return the desired context object.\n\n### Arguments\n\n| Argument    | Type       | Optional? | Description                                                  |\n| ----------- | ---------- | --------- | ------------------------------------------------------------ |\n| initializer | `Function` | Yes       | The initializer function to use when creating a new context. |\n\nThe initializer function can either return the the next context object. If null is returned itself, the initializer will take no effect.\nThe initializer receives the context object, and the parent context object, if present.\n\n### Returned object\n\n`createCascade` returns an object containing the following functions:\n\n- `use`: Returns the current context value.\n- `useX`: Returns the current context, throws an error if not within a running context.\n- `run`: Runs the context, passing the given value into the context. Merges the given value with the parent context if it exists, while not overriding the parent context.\n- `bind`: Binds a given function to the context. Allows for delayd execution of a function as if it was called within the context.\n\n### Usage Examples\n\n#### Initializer Function\n\n```js\ncreateCascade((ctx, parentContext) => {\n  if (parentContext === null) {\n    // we're at the top level\n    // so let's add a default cart object\n    return Object.assign(ctx, {\n      cart: [],\n    });\n  }\n\n  // we're in a sub context, so we already have those default values.\n  return ctx;\n});\n```\n\n#### run()\n\nRuns a callback function within the context. It takes an object referencing the data you want to store within your context, and a callback function to run.\n\n```js\n// myFunction.js\nimport ctx from './ctx';\nimport sayUsername from './sayUsername';\n\nfunction myFunction(username) {\n  return ctx.run({ username }, sayUsername);\n}\n```\n\nIf `run` is called within a different `run` call, the context values will be merged when the callback is run. When we exit our callback, the context will be reset to the values it had before the call.\n\n### use() and useX()\n\nThese are the main ways to access the context within your code. They return the current object that stored within the context, and differ in the way they handle calls outside of the context.\n\n- use() returns the current object stored within the context, or null if we're not within a `run` call.\n- useX() returns the current object stored within the context, or throws an error if we're not within a `run` call.\n  - useX also takes an optional argument that will be used as the error message if the context is not found.\n\n```js\n// sayUsername.js\nimport ctx from './ctx';\n\nfunction sayUsername() {\n  const context = ctx.use(); // { username: 'John Doe' }\n\n  if (!context) {\n    // we're not within a `run` call. This function was called outside of a running context.\n    return \"Hey, I don't know you, and this is crazy!\";\n  }\n\n  return `Hello, ${context.username}!`;\n}\n```\n\n```js\n// handleCart.js\nimport ctx from './ctx';\n\nfunction handleCart() {\n  const context = ctx.useX(\n    'handleCart was called outside of a running context'\n  ); // { cart: { items: [ 'foo', 'bar' ] } }\n  // This throws an error if we're not within a `run` call.\n  // You should catch this error and handle it somewhere above this function.\n\n  return `You have ${context.cart.items.length} items in your cart.`;\n}\n```\n\n### bind()\n\nBind a function to a context. It takes an object referencing the data you want to store within your context, and a callback function to run. It returns a function that can be called with the same arguments as the original function. The function will then internally call `run` with the same arguments, and return the result of the callback function, so it is useful if you want to reference a context after it was closed, for example - when running an async function.\n\n```js\n// getProductData.js\nimport ctx from './ctx';\n\nfunction getProductData(productId) {\n  return ctx.bind({ productId }, handleProductData);\n\n  fetchProduct(productId).then(data => {\n    handleProductData(data);\n    // will run the function handleProductData within our context, even though there is no context running at the moment.\n  });\n}\n```\n\n## Typescript Support\n\nboth `createContext` and `createCascade` have full typescript support. To gain the full benefits of typescript within your context, it is best to annotate your context with its types:\n\n```ts\nconst someContext = createContext<number>(0);\n\nconst someCascadeContext = createCascade<{\n  username: string;\n  firstName: string;\n  middleName?: string;\n  lastName: string;\n  age: number;\n}>();\n```\n\nThis meakes sure that all the functions (`run`, `use`, `useX` and `bind`) will be aware of these types, and either accept them as inputs, or add them to the return value.\n\n## Troubleshooting\n\n### Working with async functions/promises\n\nWorking with context inside within async code may lead to unexpected results when we don't fully consider what's happening. Trying to call your context from the async part of your code will probably return `null` instead of your values.\n\nThis is known and expected behavior. Context is a synchronous context propagation tool that completely relies on the synchronous nature of function calls in JS - this is exactly what allows context to run.\n\n#### But my function is still running. Why did the context clear?\n\nThe async parts of your function are actually not executed along with your sync code, and even though you \"await\" it, the browser carries on and allows other code to run in between instead of blocking execution until your async code is complete.\n\n#### Ok, so what do I do?\n\nThere are multiple strategies of handling async functions with context.\n\n1. Pulling your values from context right before your async call\n   This is the most obvious and easiest to achieve, though not always what you need. The basic idea is that you take whatever you need from the context when it is still available to you.\n\n2. context.bind or context.run your async function to the context you extracted\n   This is the next logical step - you have a function that you know should run later with your context. You can bind your context to it for delayed execution. When your function runs later down the line within your asynchronous code, internally it will still have access to whatever you bound to it.\n","maintainers":[{"name":"ealush","email":"code@ealush.com"}],"time":{"modified":"2022-08-14T21:11:56.976Z","created":"2014-05-11T19:05:50.632Z","0.0.1":"2014-05-11T19:05:50.632Z","0.1.0":"2020-09-23T19:37:49.941Z","1.0.0":"2020-09-30T23:02:00.438Z","1.1.0":"2020-10-11T18:11:31.435Z","1.1.1":"2021-04-03T19:03:23.160Z","1.1.2":"2021-04-08T07:12:31.705Z","1.1.3":"2021-04-08T09:48:04.033Z","1.1.4":"2021-06-07T08:51:58.667Z","2.0.0-next-03ba92":"2021-11-20T22:44:49.799Z","2.0.0-next-0370fc":"2021-11-21T21:10:46.036Z","2.0.0-next-9f9b97":"2021-11-24T23:52:40.444Z","2.0.0-next-3118f5":"2021-12-05T22:04:53.632Z","2.0.0-next-6abc96":"2021-12-12T21:22:37.281Z","2.0.0-dev-e266d9":"2021-12-12T22:34:10.347Z","2.0.0-dev-031d95":"2021-12-13T17:16:22.517Z","2.0.0-dev-1aae50":"2021-12-13T20:34:56.452Z","2.0.0-dev-fc2efe":"2021-12-14T23:30:19.267Z","2.0.0-dev-cc2a13":"2021-12-16T12:36:24.002Z","2.0.0-next-c704bc":"2021-12-17T15:39:30.452Z","2.0.0-next-8ba989":"2021-12-17T15:49:12.656Z","2.0.0-next-084233":"2021-12-20T12:57:53.697Z","2.0.0":"2021-12-24T19:25:26.408Z","1.2.1":"2021-12-24T20:04:00.022Z","2.0.1":"2021-12-24T20:15:42.508Z","2.0.2":"2022-03-21T10:51:32.450Z","2.0.3":"2022-03-28T21:02:13.148Z","2.0.4":"2022-04-08T13:13:13.529Z","2.0.5":"2022-04-20T01:26:10.545Z","2.0.6":"2022-04-26T13:09:25.517Z","2.0.7":"2022-06-21T11:04:22.650Z","2.0.7-dev-afe5de":"2022-06-23T19:23:36.021Z","2.0.7-dev-d13b14":"2022-06-23T21:14:50.497Z","2.0.7-dev-ae93bf":"2022-06-23T21:16:44.588Z","2.0.8-dev-c786f7":"2022-06-26T16:43:19.323Z","2.0.8-dev-9b46fb":"2022-07-16T10:16:36.501Z","2.0.8":"2022-07-16T21:47:06.458Z","2.0.9":"2022-08-05T13:58:24.081Z","3.0.0-dev-040354":"2022-08-08T13:38:08.033Z","3.0.0-dev-781e21":"2022-08-08T14:37:02.308Z","3.0.0":"2022-08-08T14:41:51.685Z","3.0.1":"2022-08-08T16:15:39.486Z","3.0.2-dev-fcaa09":"2022-08-11T00:09:02.260Z","3.1.0-dev-f30a30":"2022-08-11T11:06:02.930Z","3.1.0-dev-c4ba9b":"2022-08-11T11:27:20.049Z","3.0.2":"2022-08-11T12:26:10.733Z","3.0.3":"2022-08-14T21:11:56.893Z"},"author":{"name":"ealush"},"license":"MIT","readmeFilename":"README.md","repository":{"type":"git","url":"https://github.com/ealush/vest.git","directory":"packages/context"},"bugs":{"url":"https://github.com/ealush/vest.git/issues"}}